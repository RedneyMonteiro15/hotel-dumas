(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+h0N":function(t,e,i){"use strict";i.d(e,"a",function(){return g});var n=i("kutf"),s=i("9U1V"),o=i("r3lR");class r extends o.a{get item(){return this._item}}var a=i("I/rG"),l=i("TNoi"),h=i("xbbs");class c extends o.a{constructor(){super(...arguments),this.fontSize=a.a.LOGO_TEXT_SIZE}get item(){return this._item}initializeTransformable(){var t=this._item.bounds.width,e=this._item.bounds.height;(t<=0||e<=0)&&(t=10,e=this.item.font.capHeightPx()),this.transformable=new h.a(t,e,this.getMatrixForTransformable(),this)}draw(t=null){this.context2d.save(),this.item.blendManager.toContext2d(this.item.blendMode,this.context2d),this.getFill(t).toContext2d(this.context2d,this.item.bounds),this.drawPrimitive(this.context2d,t),this.context2d.restore()}drawPrimitive(t,e=null){t.font=`${this.fontSize}px '${this.item.font.fontFamily}'`;var i=this.getMatrixForContext2d();if(0===this.item.maths.kerning)i.scale(this.zoom,this.zoom),null!==this.offsetMatrix&&i.concat(this.offsetMatrix),i.setToContext2d(t),t.fillText(this.item.text,0,0);else for(var n=this.item.text.split(""),s=0,o=new l.a,r=0;r<n.length;r++){var a=n[r],h=this.item.font.glyphWidth(a);r>0&&(s+=this.item.font.kerning(n[r-1],a),s+=this.item.maths.kerning),o.identity(),o.translate(this.item.font.fUnitsToPx(s),0),o.concat(i),o.scale(this.zoom,this.zoom),null!==this.offsetMatrix&&o.concat(this.offsetMatrix),o.setToContext2d(t),t.fillText(a,0,0),s+=h}}}class u extends o.a{get item(){return this._item}draw(){}}class d extends o.a{get item(){return this._item}draw(t=null){this.context2d.save(),this.item.blendManager.toContext2d(this.item.blendMode,this.context2d);var e=this.item.maths.matrix.clone();e.scale(this.zoom,this.zoom),null!==this.offsetMatrix&&e.concat(this.offsetMatrix),e.setToContext2d(this.context2d),this.getFill(t).toContext2d(this.context2d,this.item.bounds),this.item.maths.p1.x==this.item.maths.p2.x?this.context2d.fillRect(Math.round(Math.min(this.item.maths.p1.x,this.item.maths.p2.x)-this.item.maths.lineWidth/2),Math.round(Math.min(this.item.maths.p1.y,this.item.maths.p2.y)),Math.round(this.item.maths.lineWidth),Math.round(Math.max(this.item.maths.p1.y,this.item.maths.p2.y)-Math.min(this.item.maths.p1.y,this.item.maths.p2.y))):this.item.maths.p1.y==this.item.maths.p2.y?this.context2d.fillRect(Math.round(Math.min(this.item.maths.p1.x,this.item.maths.p2.x)),Math.round(Math.min(this.item.maths.p1.y,this.item.maths.p2.y)-this.item.maths.lineWidth/2),Math.round(Math.max(this.item.maths.p1.x,this.item.maths.p2.x)-Math.min(this.item.maths.p1.x,this.item.maths.p2.x)),Math.round(this.item.maths.lineWidth)):(this.context2d.lineWidth=this.item.maths.lineWidth,this.context2d.beginPath(),this.context2d.moveTo(this.item.maths.p1.x,this.item.maths.p1.y),this.context2d.lineTo(this.item.maths.p2.x,this.item.maths.p2.y),this.context2d.stroke()),this.context2d.restore()}}let g=(()=>{class t{static get(e,i,n){let s=0;for(let t of n)e.type===t.item.type&&s++;let o=t.items[e.type];void 0===o&&(t.items[e.type]=[],o=t.items[e.type]);let r=o[s];return void 0===r?(o[s]=t.createItemView(e,i),r=o[s]):r.setItem(e),r.context2d=i,r.offsetMatrix=null,r}static createItemView(t,e){let i=null;switch(t.type){case n.a.SVG_ICON:i=new s.a(e);break;case n.a.TEXT_ICON:i=new r(e);break;case n.a.BASE_TEXT:case n.a.LOGO_NAME:case n.a.TAGLINE:case n.a.MONOGRAM:case n.a.CUSTOM_TEXT:i=new c(e);break;case n.a.RICH_TEXT:i=new u(e);break;case n.a.LINE:i=new d(e)}return i.setItem(t),i}}return t.items=new Map,t})()},"/AIg":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},"04EX":function(t,e,i){"use strict";i.d(e,"b",function(){return w}),i.d(e,"a",function(){return x});var n=i("8DbQ"),s=i("hrmL"),o=i("2+QG"),r=i("+tZc"),a=i("V9RX"),l=i("TNoi"),h=i("mrhZ"),c=i("I5bC"),u=i("4oyk"),d=i("YDEh");class g extends s.a{constructor(){super(),this.imageUrl=null,this.image=null,this.imageLoaded=!1,this.fill=new u.a(d.a.BG_B),this.maths=new c.a,this.group=1,this.type=s.a.Image,this.content=null}static deserialize(t){let e=new g;return e.imageUrl=t.url,e.bounds=h.a.deserialize(t.bounds),e.content=t.content,e.maths=c.a.deserialize(t.maths),e}serialize(t=!1){let e=super.serialize();if(t){let t=this.maths.matrix.transformPoint(this.bounds.topLeft),i=this.maths.matrix.transformPoint(this.bounds.bottomRight);e.content=new h.a(t.x,t.y,i.x-t.x,i.y-t.y).serialize(),e.maths=(new c.a).serialize()}return e.bounds=this.bounds.serialize(),e.url=this.imageUrl,e}clone(){let t=new g;return t.uid=this.uid,t.group=this.group,t.maths=this.maths.clone(),t.fill=this.fill.clone(),t.target=this.target,t.bounds=this.bounds.clone(),t.content=this.content,t.product=this.product,t.imageUrl=this.imageUrl,t}loadDynamic(t=null){let e=this;return new Promise(function(t,i){e.imageLoaded?t():(e.image=new Image,e.image.crossOrigin="anonymous",e.image.src=e.imageUrl,e.image.onload=function(){e.imageLoaded=!0,t()})})}calculateAlignMatrix(){let t=new l.a;if(null==this.content)return t;let e=h.a.deserialize(this.content),i=e.width/this.bounds.width,n=i;return n*this.bounds.height<e.height&&(n=e.height/this.bounds.height,i=n),i>1&&(i=1,n=1),t.scale(i,n),t.translate(e.x,e.y),t}}var f=i("I/rG"),p=i("UtAn"),m=i("+6eH"),v=i("39nl"),w=function(t){return t[t.NA=0]="NA",t[t.FacebookCoverPhoto=1]="FacebookCoverPhoto",t[t.FacebookProfileImage=2]="FacebookProfileImage",t[t.YoutubeProfile=3]="YoutubeProfile",t[t.YoutubeCoverMobile=4]="YoutubeCoverMobile",t[t.YoutubeCoverDesktop=5]="YoutubeCoverDesktop",t[t.YoutubeCoverTv=6]="YoutubeCoverTv",t[t.InstagramProfile=7]="InstagramProfile",t[t.InstagramPhotoThumbnail=8]="InstagramPhotoThumbnail",t[t.InstagramPhoto=9]="InstagramPhoto",t[t.InstagramPhotoLandscape=10]="InstagramPhotoLandscape",t[t.InstagramPhotoPortrait=11]="InstagramPhotoPortrait",t[t.TwitterHeader=12]="TwitterHeader",t[t.TwitterProfile=13]="TwitterProfile",t[t.TwitterInStream=14]="TwitterInStream",t[t.VkArticle=15]="VkArticle",t[t.VkProfile=16]="VkProfile",t[t.VkProfileBg=17]="VkProfileBg",t[t.LinkedinBgImage=18]="LinkedinBgImage",t[t.LinkedinStandardLogo=19]="LinkedinStandardLogo",t[t.LinkedinBusinessBanner=20]="LinkedinBusinessBanner",t[t.LinkedinSquareLogo=21]="LinkedinSquareLogo",t}({}),b=function(t){return t[t.V1=1]="V1",t[t.V2=2]="V2",t}({});let x=(()=>{class t extends n.a{constructor(){super(...arguments),this.version=b.V1,this.category=null}static get BRAND_PRODUCT_URL(){return p.a.MAIN_URL+"/v3/brands/{id}/socials/"}static get SERVICE_URL(){return p.a.MAIN_URL+"/v3/js/brand/{brandId}/social-product/"}static get TEMPLATE_SERVICE_URL(){return p.a.MAIN_URL+"/v3/js/social-product-template/"}static get ADD_TEMPLATE_URL(){return p.a.MAIN_URL+"/v3/js/add-social-product-template/"}static get SOCIAL_CATEGORIES_URL(){return p.a.MAIN_URL+"/v3/fe/social-product-categories/"}get templates(){return t.templates}get categories(){return t.categories}get widthMm(){return this.width}get heightMm(){return this.height}serialize(){let t={id:this.id,brandId:this.brandId,templateId:null!==this.template?this.template.id:null,text:this.text,sizeType:this.sizeType,version:this.version,width:this.width,height:this.height,items:[]};for(let e of this.items){let i=e.serialize();t.items.push(i)}return JSON.stringify(t)}serializeTemplate(){let t={id:this.id,sizeType:this.sizeType,version:this.version,category:this.category,width:this.width,height:this.height,items:[]};for(let e of this.items){let i=e.serialize(!0);t.items.push(i)}return JSON.stringify(t)}save(){let e=this;return new Promise(function(i,n){$.ajax({type:"POST",url:t.SERVICE_URL.replace("{brandId}",""+e.brandId),dataType:"json",data:e.serialize(),success:function(t){e.id=t.id,i(e)}})})}saveTemplate(){let e=this;return new Promise(function(i,n){$.ajax({type:"POST",url:t.ADD_TEMPLATE_URL,dataType:"json",data:e.serializeTemplate(),success:function(t){e.id=t.id,i(e)}})})}update(){let e=this;return new Promise(function(i,n){const s=t.SERVICE_URL.replace("{brandId}",""+e.brandId)+(e.id+"/");(new m.a).updateProduct(e,s).subscribe(({id:t})=>{e.id=t,i(e)})})}static deserialize(e,i=null){if(null===e)return null;let n=new t;n.brandId=null!==i?i.id:e.brandId,n.id=e.id,n.template=this.deserialize(e.template),n.category=v.a.deserialize(e.category),n.brand=i,n.text=e.text,n.number=e.number,n.sizeType=e.sizeType,n.version=e.version,n.width=e.width,n.height=e.height;for(let t of e.items){let e=null;switch(t.type){case s.a.SVG:e=o.a.deserialize(t);break;case s.a.TEXT:e=r.a.deserialize(t);break;case s.a.LOGO:if(e=a.a.deserialize(t),null!==i){let t=e;t.logo=i.getLogo(t.logoType,t.withSlogan),e=t}break;case s.a.Image:e=g.deserialize(t)}e.product=n,n.items.push(e)}return n}clone(){let e=new t;e.id=this.id,e.brandId=this.brandId,e.brand=this.brand,e.template=this.template,e.text=this.text,e.number=this.number,e.sizeType=this.sizeType,e.version=this.version,e.width=this.width,e.height=this.height;for(let t of this.items){let i=t.clone();i.product=e,e.items.push(i)}return e}static getTemplateById(e){let i=null;for(let n of t.templates)if(n.id===e){i=n;break}return i}static loadTemplates(e,i=null,n=null){let s=[];for(let r of t.templates)s.push(r.id);let o={lti:s,neededCount:e,neededSize:i,version:n};return new Promise(function(e,i){$.ajax({type:"GET",url:t.TEMPLATE_SERVICE_URL,dataType:"json",data:o,success:function(i){let n=[];for(let e of i){let i=t.deserialize(e);n.push(i),t.templates.push(i)}e(n)}})})}getProductBG(){let t=d.a.BG_B;switch(null!==this.template?this.template.number:this.number){case 1:t=d.a.BG_B;break;case 2:t=d.a.BG_C;break;case 3:t=d.a.BG_BLACK}return t}getSocialNameFromType(){for(let t in w)if(w[t.toString()]==this.sizeType)return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return null}getImageItem(){for(let t of this.items)if(t.type===s.a.Image)return t;return null}getDownloadFormat(){return-1!==[w.InstagramProfile,w.InstagramPhotoThumbnail,w.InstagramPhoto,w.InstagramPhotoLandscape,w.InstagramPhotoPortrait].indexOf(this.sizeType)?f.a.IMAGE_FORMAT_JPG:f.a.IMAGE_FORMAT_PNG}static getCategories(){return new Promise(function(e,i){$.ajax({type:"GET",url:t.SOCIAL_CATEGORIES_URL,dataType:"json",success:function(i){let n=[];for(let e of i){let i=v.a.deserialize(e);n.push(i),t.categories.push(i)}e(n)}})})}static getCategoryById(e){let i=null;for(let n of t.categories)if(n.categoryId===e){i=n;break}return i}}return t.templates=[],t.categories=[],t})()},"0Ljl":function(t,e,i){var n=i("lcqf");t.exports=function(t,e,i){if(e!=e)return n(t,i);for(var s=i-1,o=t.length;++s<o;)if(t[s]===e)return s;return-1}},"1dEq":function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},"2jAP":function(t,e,i){var n=i("a6tp"),s=Object.prototype.toString;t.exports=function(t){return"string"==typeof t||n(t)&&"[object String]"==s.call(t)}},"39nl":function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{constructor(){this.categoriesLink="/static/v3/img/social_v2/"}static deserialize(t){if(null===t)return null;let e=new n;return e.categoryId=t.categoryId,e.categoryName=t.categoryName,e.slug=t.slug,e.imgUrl=e.categoriesLink+t.slug.replace(/-/g,"_")+".png",e}}},"4KeA":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("TNoi"),s=i("9epC"),o=i("I/rG"),r=i("JspV");class a{constructor(t,e){this.brand=null,this.menu=null,this.canvases=null,this.brand=t,this.canvases=e,this.initMenu(),this.deleteUnusedMenus()}generateSearchString(t){for(var e=[],i=0;i<t.length;i++)e[i]='[data-scref="'+t[i]+'"]';return e.join(",")}deleteUnusedMenus(){var t=document.getElementsByClassName("dropdown bootstrapMenu");if(t.length>1)for(var e=0;e<t.length-1;e++)t[e].remove(),e--}initMenu(){if("undefined"==typeof translation||null===translation)return void console.log("No translations");let t=null,e=this.canvases,i=this;this.menu=new s(this.generateSearchString(e),{fetchElementData:function(t){return t},actions:[{name:translation.SaveAsImage,onClick:function(n){var s=n.data("scref"),a=e.indexOf(s)+1,l=n[0];if(null!=i.brand){var h=i.brand.text,c=i.brand.number,u=i.brand.status;h=h.replace(/ /g,"_"),t=null===c||u===o.a.STATUS_FAVORITE?h+"_brand_usage_#"+a+"_created_by_logaster.png":h+"_#"+c+"_brand_usage_#"+a+"_created_by_logaster.png"}else t="download.png";new r.a(t,l).startDownload()}}]})}}let l=(()=>{class t{constructor(){this.contextMenu=null,this._showcases=null,this._textMap=null,this.brands=null}get showcases(){return null!==this._showcases||(this._showcases=this.getShowcases()),this._showcases}generateShowcase(t){return null}generatePreviewShowcase(t){return null}getShowcases(){return null}getPreviewShowcases(){return null}getProductShowcases(){return null}textMap(t,e){return null}draw(t,e){var i=new n.a,s=[],o=this.showcases.map(t=>t.canvasRef);for(var r of(this.contextMenu=new a(t,o),this.showcases))s.push(r.draw(t,e,i,this.textMap(t))),i.translate(0,r.height);return Promise.all(s)}update(t,e){for(var i of this.showcases)i.update(t,e)}reset(){for(var t of this.showcases)t.reset()}get(t){for(let e of this.showcases)if(e.canvasRef===t)return e;throw new Error("No showcase by passed scref: "+t)}getLogoShowcase(t,e,i){return null}preloadImageLayers(){}}return t.key="[Presentation]",t})()},"66oy":function(t,e){t.exports=function(t){return null==t?"":t+""}},"8Bt/":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("TNoi"),s=i("yt65"),o=i("2UJW");let r=(()=>{class t{constructor(t,e,i=null){this.layers=null,this.height=0,this.colorCombination=null,this.layers=e,this.height=t,this.canvasRef=i}draw(e,i,n=t.identityMatrix,s=null,o=null){if(-1!==t.loadedShowcases.indexOf(this)){var r=[];for(var a of this.layers)r.push(a.loadDynamic(e));return Promise.all(r).then(()=>this.drawLayers(e,i,n,this.height,s,o)).then(()=>this.disableAnimatedPreloader(i))}var l=[];for(var a of this.layers)l.push(a.load()),l.push(a.loadDynamic(e));var h=n.clone();return Promise.all(l).then(()=>{this.drawLayers(e,i,h,this.height,s,o),t.loadedShowcases.push(this)}).then(()=>this.disableAnimatedPreloader(i))}drawLayers(t,e,i,n,r,a=null){let l,h=e,c=null;if(null==this.canvasRef||s.a.isNG){l=o(h.canvas),c=l.data("lid"),a=c||a;for(let e of this.layers)this.colorCombination&&e.update(void 0,void 0,this.colorCombination),e.draw(t,h,i,n,a,r)}else{let e=o(`canvas[data-scref='${this.canvasRef}']`);this.disableContextMenu(e);for(let s=0;s<e.length;s++){h=e[s].getContext("2d"),l=o(e[s]),0==n&&h.clearRect(0,0,h.canvas.width,h.canvas.height);let u=!1,d=l.data("bg"),g=l.data("el");d&&g&&(u=!0),c=l.data("lid"),null!=c&&(a=c);for(let e of this.layers)u&&e.update(d,g),e.draw(t,h,i,n,a,r)}}}update(t,e){for(var i of this.layers)i.update(t,e)}reset(){for(var t of this.layers)t.reset()}disableContextMenu(t){}disableAnimatedPreloader(t){var e=o(null==this.canvasRef||s.a.isNG?t.canvas:`canvas[data-scref='${this.canvasRef}']`);e.removeClass("animated-preloader"),e.siblings(".animated-preloader-src").remove()}}return t.identityMatrix=new n.a,t.loadedShowcases=[],t})()},"9Msy":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL"),s=i("bTqV");let o=(()=>{class t{constructor(){this.closed=new n.n}onClose(){this.closed.emit(null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["lg-close-button"]],outputs:{closed:"closed"},decls:2,vars:0,consts:[["mat-icon-button","",1,"close-btn",3,"click"],["aria-hidden","true",1,"icon-close"]],template:function(t,e){1&t&&(n.Rb(0,"button",0),n.Yb("click",function(){return e.onClose()}),n.Mb(1,"span",1),n.Qb())},directives:[s.b],styles:['[_nghost-%COMP%]   [class*=" icon-"][_ngcontent-%COMP%]:before, [_nghost-%COMP%]   [class^=icon-][_ngcontent-%COMP%]:before{margin-right:0}[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{cursor:pointer}@media (max-width:340px){[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:36px;height:36px}}']}),t})()},"9U1V":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("mPvw"),s=i("r3lR"),o=i("Imjg");let r=(()=>{class t extends s.a{get item(){return this._item}draw(t=null){this.context2d.save(),this.item.blendManager.toContext2d(this.item.blendMode,this.context2d);var e=this.getMatrixForContext2d();e.scale(this.zoom,this.zoom),null!==this.offsetMatrix&&e.concat(this.offsetMatrix),e.setToContext2d(this.context2d),this.drawPrimitive(this.context2d,t),this.context2d.restore()}drawPrimitive(t,e){var i=o.a.changeEmblemAppearance(this.item.svg,this.getFill(e));this.drawSvg(i,t.canvas)}drawSvg(e,i){void 0!==e&&""!==e&&(null==t.canvgOptions&&(t.canvgOptions={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:0,scaleHeight:0}),n(i,e,t.canvgOptions))}}return t.canvgOptions=null,t})()},"9epC":function(t,e,i){"use strict";var n=i("mCiA"),s=i("2UJW");i("tR2b");var o=function(){throw new Error("Custom lodash build for BootstrapMenu. lodash chaining is not included")};o.noop=i("p/0C"),o.each=i("tr1Q"),o.contains=i("rd52"),o.extend=i("z9XM"),o.uniqueId=i("Z6ft"),o.isFunction=i("QDPw");var r={container:"body",fetchElementData:o.noop,menuSource:"mouse",menuPosition:"belowLeft",menuEvent:"right-click",actionsGroups:[],noActionsMessage:"No available actions",_actionSelectEvent:"click"},a=function(t,e){this.selector=t,this.options=o.extend({},r,e),this.namespace=o.uniqueId(".BootstrapMenu_"),this.closeNamespace=o.uniqueId(".BootstrapMenuClose_"),this.init()},l=[];a.prototype.init=function(){var t;this.$container=s(this.options.container),this.$menu=function(t){var e=s('<div class="dropdown bootstrapMenu" style="z-index:10000;position:absolute;" />'),i=s('<ul class="dropdown-menu" style="position:static;display:block;font-size:0.9em;" />'),n=[];n[0]=[],o.each(t.options.actionsGroups,function(t,e){n[e+1]=[]});var r=!1;o.each(t.options.actions,function(e,i){var s=!1;o.each(t.options.actionsGroups,function(t,e){o.contains(t,i)&&(n[e+1].push(i),s=!0)}),!1===s&&n[0].push(i),void 0!==e.iconClass&&(r=!0)});var a=!0;return o.each(n,function(e){0!=e.length&&(!1===a&&i.append('<li class="divider"></li>'),a=!1,o.each(e,function(e){i.append(!0===r?'<li role="presentation" data-action="'+e+'"><a href="#" role="menuitem"><i class="fa fa-fw fa-lg '+(t.options.actions[e].iconClass||"")+'"></i> <span class="actionName"></span></a></li>':'<li role="presentation" data-action="'+e+'"><a href="#" role="menuitem"><span class="actionName"></span></a></li>')}),i.append('<li role="presentation" class="noActionsMessage disabled"><a href="#" role="menuitem"><span>'+t.options.noActionsMessage+"</span></a></li>"))}),e.append(i)}(this),this.$menuList=this.$menu.children(),this.$menu.hide().appendTo(this.$container),this.$openTarget=null,this.openEvent=null,function(t){var e=null;switch(t.options.menuEvent){case"click":e="click";break;case"right-click":e="contextmenu";break;case"hover":e="mouseenter";break;default:throw new Error("Unknown BootstrapMenu 'menuEvent' option")}t.$container.on(e+t.namespace,t.selector,function(e){var i=s(this);return t.open(i,e),!1})}(this),(t=this).$menu.on(t.options._actionSelectEvent+t.namespace,function(e){e.preventDefault(),e.stopPropagation();var i=s(e.target).closest("[data-action]");if(i&&i.length&&!i.is(".disabled")){var n=i.data("action"),o=t.options.fetchElementData(t.$openTarget);t.options.actions[n].onClick(o),t.close()}}),l.push(this)},a.prototype.updatePosition=function(){var t=null,e=null,i=null;switch(this.options.menuSource){case"element":e=this.$openTarget;break;case"mouse":e=this.openEvent;break;default:throw new Error("Unknown BootstrapMenu 'menuSource' option")}switch(this.options.menuPosition){case"belowRight":t="right top",i="right bottom";break;case"belowLeft":t="left top",i="left bottom";break;case"aboveRight":t="right bottom",i="right top";break;case"aboveLeft":t="left bottom",i="left top";break;default:throw new Error("Unknown BootstrapMenu 'menuPosition' option")}this.$menu.css({display:"block"}),this.$menu.css({height:this.$menuList.height(),width:this.$menuList.width()}),this.$menu.position({my:t,at:i,of:e})},a.prototype.open=function(t,e){var i=this;a.closeAll(),this.$openTarget=t,this.openEvent=e;var r=i.options.fetchElementData(i.$openTarget),l=this.$menu.find("[data-action]"),h=this.$menu.find(".noActionsMessage");l.show(),h.hide();var c=0;l.each(function(){var t=s(this),e=t.data("action"),a=i.options.actions[e],l=a.classNames||null;l&&o.isFunction(l)&&(l=l(r)),t.attr("class",n(l||"")),a.isShown&&!1===a.isShown(r)?t.hide():(c++,t.find(".actionName").html(o.isFunction(a.name)&&a.name(r)||a.name),a.isEnabled&&!1===a.isEnabled(r)&&t.addClass("disabled"))}),0===c&&h.show(),this.updatePosition(),this.$menu.show(),function(t){switch(t.options.menuEvent){case"click":case"right-click":break;case"hover":var e=t.$openTarget.add(t.$menu);e.on("mouseleave"+t.closeNamespace,function(i){var n=i.toElement||i.relatedTarget;t.$openTarget.is(n)||t.$menu.is(n)||(e.off(t.closeNamespace),t.close())});break;default:throw new Error("Unknown BootstrapMenu 'menuEvent' option")}t.$container.on("click"+t.closeNamespace,function(){t.close()})}(this)},a.prototype.close=function(){var t;this.$menu.hide(),(t=this).$container.off(t.closeNamespace)},a.prototype.destroy=function(){var t;this.close(),(t=this).$container.off(t.namespace),function(t){t.$menu.off(t.namespace)}(this)},a.closeAll=function(){o.each(l,function(t){t.close()})},t.exports=a},AQHL:function(t,e,i){var n=i("QDPw"),s=i("a6tp"),o=/^\[object .+?Constructor\]$/,r=Function.prototype.toString,a=RegExp("^"+r.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return null!=t&&(n(t)?a.test(r.call(t)):s(t)&&o.test(t))}},AV5f:function(t,e,i){var n=i("wdO1"),s=i("XbSU"),o=i("S9oo"),r=i("utsC"),a=n(Object,"keys");t.exports=a?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&s(t)?r(t):o(t)?a(t):[]}:r},B5yn:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return s});const n=["Free","XS","S","M","L","Favorite","Proposed","P20LogoBundle","P20IdentityBundle","P20LogoAndIdentity"],s=[1,2,3,4,7,8,9]},BLTR:function(t,e,i){var n=i("WicD"),s=i("ZEuN")(n);t.exports=s},Cx2y:function(t,e,i){var n=i("IpVJ"),s=i("POAC"),o=i("GoNF");t.exports=function(t){return o(function(e,i){var o=-1,r=null==e?0:i.length,a=r>2?i[r-2]:void 0,l=r>2?i[2]:void 0,h=r>1?i[r-1]:void 0;for("function"==typeof a?(a=n(a,h,5),r-=2):r-=(a="function"==typeof h?h:void 0)?1:0,l&&s(i[0],i[1],l)&&(a=r<3?void 0:a,r=1);++o<r;){var c=i[o];c&&t(e,c,a)}return e})}},DDv9:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{static get(t,e=!1){if(e)return new t;n.presentations||(n.presentations=new Map);let i=t.key||t.name;return n.presentations.has(i)||n.presentations.set(i,new t),n.presentations.get(i)}}},DZN5:function(t,e,i){var n=i("TpxU")();t.exports=n},Eq80:function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i("TNoi"),s=i("WVmJ"),o=i("ehg8"),r=i("YDEh"),a=i("UtAn"),l=i("I/rG"),h=i("8cr0"),c=i("gwEI"),u=i("FA7f");let d=(()=>{class t{constructor(t,e,i,n,s=null,a=!1,l=r.a.EL_LOGO1){this.wmImage=null,this.wmLogoOpacity=.8,this.logoPadding=0,this.noWatermark=!1,this.matrix=null,this.wmMatrix=null,this.view=null,this.type=t,this.withSlogan=a,this.width=e,this.height=i,this.matrixSrc=n,this.colorCombination=h.a.getCombination(null,s,l),this.srcColorCombination=this.colorCombination,this.viewClass=o.a}loadDynamic(e){let i=e.getLogo(this.type,this.withSlogan);if(i.status===l.a.STATUS_S||i.status===l.a.STATUS_L||i.status===l.a.STATUS_LOGO_PACK_20||i.status===l.a.STATUS_SUBSCRIPTION_PACK_20)return;let n,s=this,o=this.getWatermarkUrl(e);return null!==this.wmImage&&this.wmImage.width>0&&this.wmImage.height>0&&-1!==this.wmImage.src.indexOf(o)?void 0:(this.wmMatrix=null,n=void 0!==t.wmImagesPromises[o]?t.wmImagesPromises[o]:new Promise(function(t,i){s.wmImage=new Image,s.wmImage.crossOrigin="anonymous",s.wmImage.src=s.getWatermarkUrl(e),s.wmImage.onload=function(){t()},s.wmImage.onerror=function(){i()}}),n)}draw(t,e,i,n){this.initCachedProps(t,i),this.view.logo=t.getLogo(this.type,this.withSlogan,n),this.colorCombination.colorRange=this.view.logo.colorRange,this.view.draw(this.colorCombination),e.save();let s=c.a.forTemp(e.canvas.width,e.canvas.height);this.drawWatermarkBg(s,t,n,e),s.save(),this.matrix.setToContext2d(s),s.drawImage(this.view.context2d.canvas,0,0),s.restore(),this.drawWatermarkLogo(s,t,n),e.drawImage(s.canvas,0,0)}drawWatermarkBg(e,i,s,o){if(!this.needWatermark(i,s))return;if(null===this.wmMatrix){let t=(this.wmImage.width-this.width)/2,e=(this.wmImage.height-this.height)/2;this.wmMatrix=new n.a,this.wmMatrix.translate(-t,-e),this.wmMatrix.concat(this.matrix)}let r=this.colorCombination.getFill(null);null===r&&(r=t.wmDefaultFill),e.save(),r.toContext2d(e),e.fillRect(0,0,e.canvas.width,e.canvas.height),this.wmMatrix.setToContext2d(e),e.globalCompositeOperation="destination-in",e.drawImage(this.wmImage,0,0),e.restore(),o.save(),o.globalAlpha=this.getBgWmOpacity(i),o.drawImage(e.canvas,0,0),o.restore(),this.clearContext2d(e)}drawWatermarkLogo(t,e,i){this.needWatermark(e,i)&&(t.save(),t.globalCompositeOperation="destination-out",t.globalAlpha=this.wmLogoOpacity,this.wmMatrix.setToContext2d(t),t.drawImage(this.wmImage,0,0),t.restore())}initCachedProps(t,e){null===this.matrix&&(this.matrix=n.a.deserialize(this.matrixSrc),null!==e&&this.matrix.concat(e)),null===this.view?(this.view=new this.viewClass(c.a.forLogo(this.width,this.height)),this.view.width=this.width,this.view.height=this.height,this.view.padding=this.logoPadding):this.view.context2d=c.a.forLogo(this.width,this.height)}getWatermarkUrl(t){let e,i=u.a.isExist()?"nolabel_watermarks":"watermarks",n=this.type;return this.type>=l.a.START_INDEX&&(n=t.getLogo(this.type).makerType),this.width<=155?e=n===l.a.HORIZONTAL||n===l.a.TEXT?"small_horizontal.png":"small_square.png":this.width>150&&this.width<=340?e=n===l.a.HORIZONTAL||n===l.a.TEXT?"medium_horizontal.png":"medium_square.png":this.width>340&&this.width<=410?e="large_horizontal.png":this.width>410&&(e="extra_large_horizontal.png"),this.getFullUrl(`${i}/${e}`)}needWatermark(t,e=null){if(this.noWatermark)return!1;let i=t.getLogo(this.type,this.withSlogan,e);return!(this.type==l.a.ICON||this.type===l.a.HORIZONTAL&&!1===this.withSlogan&&this.colorCombination.bgColor===r.a.BG_WHITE&&this.colorCombination.elColor===r.a.EL_LOGO1||i.status===l.a.STATUS_S||i.status===l.a.STATUS_M||i.status===l.a.STATUS_L||i.status===l.a.STATUS_LOGO_PACK_20||i.status===l.a.STATUS_SUBSCRIPTION_PACK_20||i.status===l.a.STATUS_XS&&this.colorCombination.bgColor===r.a.BG_WHITE&&this.colorCombination.elColor===r.a.EL_LOGO1||i.status===l.a.STATUS_XS&&this.colorCombination.bgColor===r.a.BG_GRAY&&"747474"===this.colorCombination.elColor||this.width<=100)}getFullUrl(t){return a.a.STATIC_ROOT_URL+"/static/v3/showcase/"+t}clearContext2d(t){n.a.resetContext2d(t),t.clearRect(0,0,t.canvas.width,t.canvas.height)}getBgWmOpacity(e){let i=this.view.logo.colorRange.getFill(this.colorCombination.bgColor),n=this.view.logo.colorRange.getFill(this.colorCombination.bgColor,this.colorCombination.elColor);null===n&&(n=t.wmDefaultFill);let s=i.hex,o=n.hex,a=`${s};${o}`;if(void 0!==t.wmAlphaCache[a])return t.wmAlphaCache[a];let l=.05;for(let t=l;t<=.5;t+=.03){let e=r.a.blendColorsAlpha(s,o,t);if(l=t,r.a.contrast(s,e)>=1.1)break}return t.wmAlphaCache[a]=l,l}}return t.wmImagesPromises={},t.wmDefaultFill=new s.a("000000"),t.wmAlphaCache={},t})()},Go6F:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{constructor(){this.scaleX=0,this.scaleY=0,this.degreesAngle=0,this.radiansAngle=0,this.translateX=0,this.translateY=0}fixValues(){if(this.radiansAngle<0){var t=2*Math.PI+this.radiansAngle;this.degreesAngle=360+this.degreesAngle,this.radiansAngle=t}}updateValues(t){this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.degreesAngle=t.degreesAngle,this.radiansAngle=t.radiansAngle,this.translateX=t.translateX,this.translateY=t.translateY}static calculateTransformationFactors(t){var e=new n,i=Math.atan2(t.b,t.a),s=n.sign(t.a)*Math.sqrt(t.a*t.a+t.b*t.b),o=n.sign(t.d)*Math.sqrt(t.c*t.c+t.d*t.d),r=180*i/Math.PI;return e.radiansAngle=i,e.scaleX=s,e.scaleY=o,e.degreesAngle=r,e.translateX=t.tx,e.translateY=t.ty,e.fixValues(),e}static sign(t){return t>0?1:0==t?0:-1}}},GoNF:function(t,e){var i=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,s=-1,o=i(n.length-e,0),r=Array(o);++s<o;)r[s]=n[e+s];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,n[0],r);case 2:return t.call(this,n[0],n[1],r)}var a=Array(e+1);for(s=-1;++s<e;)a[s]=n[s];return a[e]=r,t.apply(this,a)}}},HDCP:function(t,e,i){var n=i("ipu/"),s=i("BLTR"),o=i("iiAY")(n,s);t.exports=o},IbFv:function(t,e,i){var n=i("meTb"),s=i("aAvQ"),o=i("Cx2y")(function(t,e,i){return i?n(t,e,i):s(t,e)});t.exports=o},Imjg:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("2UJW"),s=i("g/co");class o{static changeEmblemAppearance(t,e){if(null==t||""==t||!e)return t;for(var i=n.parseXML(t),s=null,r=null,a=!1,l=0;l<i.childNodes.length;l++){var h=i.childNodes[l];if(h.nodeType==document.ELEMENT_NODE&&"svg"==h.nodeName.toLowerCase()){var c;s=h;for(var u=0;u<h.childNodes.length;u++)if((c=h.childNodes[u]).nodeType==document.ELEMENT_NODE&&"defs"==c.nodeName.toLowerCase()){r=c,a=!0;break}null===r&&(r=document.createElementNS("http://www.w3.org/2000/svg","defs"));for(var d=0;d<h.childNodes.length;d++)(c=h.childNodes[d]).nodeType==document.ELEMENT_NODE&&"g"==c.nodeName.toLowerCase()&&o.changeComponentAppearance(r,c,e)}}return s&&(0==r.childNodes.length&&a?r.remove():r.childNodes.length>0&&!a&&s.insertBefore(r,s.firstChild)),(new XMLSerializer).serializeToString(i)}static changeComponentAppearance(t,e,i){if(null!=e)for(let n=0;n<e.childNodes.length;n++){let s=e.childNodes[n],r=s.nodeName.toLowerCase();s.nodeType==document.ELEMENT_NODE&&("g"==r?o.changeComponentAppearance(t,s,i):s.getAttribute("id")&&"svg"!=r&&i.toSvg(s,t))}}static createGradientXml(t,e){var i=null;if(null==e)return i;(i=e instanceof s.a?document.createElementNS("http://www.w3.org/2000/svg","linearGradient"):document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",t),i.setAttribute("gradientUnits","objectBoundingBox"),i.setAttribute("gradientTransform",`rotate(${e.angle})`);for(var n=0;n<e.entries.length;n++){var o=e.entries[n],r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset",o.ratio.toString()),r.setAttribute("stop-color","#"+o.color),i.appendChild(r)}return i}}},IpVJ:function(t,e,i){var n=i("kLPJ");t.exports=function(t,e,i){if("function"!=typeof t)return n;if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,s){return t.call(e,i,n,s)};case 4:return function(i,n,s,o){return t.call(e,i,n,s,o)};case 5:return function(i,n,s,o,r){return t.call(e,i,n,s,o,r)}}return function(){return t.apply(e,arguments)}}},JL1i:function(t,e){t.exports=function(t,e){for(var i=-1,n=e.length,s=Array(n);++i<n;)s[i]=t[e[i]];return s}},JspV:function(t,e,i){"use strict";i.d(e,"a",function(){return o});class n{}let s=(()=>{class t{constructor(e){this.content=null,this.list=null,this.joinChunk=function(){var e=t.PNG_SIG;for(var i in this.list){var n=this.list[i],s="";s+=this.itos(n.size,4),s+=n.type,s+=n.data,e+=s+=this.itos(n.crc,4)}return e},this.content=window.atob(e.substr(e.indexOf(",")+1)),this.list=this.splitChunk()}isPNG(){return this.content.substr(0,8)==t.PNG_SIG}splitChunk(){if(!this.isPNG())return null;for(var t=this.content.substr(8),e=[];""!=t;){var i=new n,s=this.stoi(t.substr(0,4));s<0&&(s=0);var o=t.substr(0,s+12);t=t.substr(s+12),i.size=s,i.type=o.substr(4,4),i.data=o.substr(8,s),i.crc=this.stoi(o.substr(8+s,4)),e.push(i)}return e}stoi(t){for(var e=0,i=0;i<t.length;i++)e=e<<8|255&t.charCodeAt(i);return e}itos(t,e){for(var i=[],n=e-1;n>=0;)i[n--]=255&t,t>>=8;return(i=i.map(function(t){return String.fromCharCode(t)})).join("")}crc32(t){for(var e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=-1,n=0;n<t.length;n++)i=i>>>8^e[255&(i^t.charCodeAt(n))];return(-1^i)>>>0}createChunk(t,e){var i=new n;return i.type=t,i.data=e,i.size=e.length,i.crc=this.crc32(t+e),i}insertTextChunk(t,e){return null==this.list?(console.log("Cannot parse PNG and chunk will not be added."),!1):(this.list.splice(1,0,this.createChunk("tEXt",t+String.fromCharCode(0)+e)),!0)}getBase64Content(){return null==this.list?(console.log("Cannot parse PNG"),"data:image/png;base64,"+this.content):"data:image/png;base64,"+window.btoa(this.joinChunk())}}return t.PNG_SIG=String.fromCharCode(137,80,78,71,13,10,26,10),t})();class o{constructor(t,e){this.downloadName=t,this.canvas=e}startDownload(){var t=new s(this.canvas.toDataURL("image/png")),e=window.top.document.createElement("a");t.insertTextChunk("Author","logaster.com"),e.setAttribute("href",t.getBase64Content()),e.setAttribute("download",this.downloadName),e.click()}}},Kc75:function(t,e){var i=/^\d+$/;t.exports=function(t,e){return e=null==e?9007199254740991:e,(t="number"==typeof t||i.test(t)?+t:-1)>-1&&t%1==0&&t<e}},Mqwf:function(t,e,i){var n=i("/AIg")("length");t.exports=n},POAC:function(t,e,i){var n=i("XbSU"),s=i("Kc75"),o=i("S9oo");t.exports=function(t,e,i){if(!o(i))return!1;var r=typeof e;if("number"==r?n(i)&&s(e,i.length):"string"==r&&e in i){var a=i[e];return t==t?t===a:a!=a}return!1}},PXEn:function(t,e,i){var n=i("XbSU"),s=i("a6tp"),o=Object.prototype,r=o.hasOwnProperty,a=o.propertyIsEnumerable;t.exports=function(t){return s(t)&&n(t)&&r.call(t,"callee")&&!a.call(t,"callee")}},Pa5M:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("ZL5I");class s extends n.a{constructor(t){super(),this.type=n.b.Logo,this.items=t}loadDynamic(t){var e=[];for(var i of this.items)e.push(i.loadDynamic(t));return Promise.all(e)}draw(t,e,i,n,s){for(var o of this.items)o.draw(t,e,i,s)}}},QDPw:function(t,e,i){var n=i("S9oo"),s=Object.prototype.toString;t.exports=function(t){return n(t)&&"[object Function]"==s.call(t)}},R2xI:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("Bhu5"),s=i("I/rG"),o=i("YDEh"),r=i("UtAn"),a=i("jO/Y"),l=i("kutf"),h=i("04EX"),c=i("tYOQ"),u=i("+6eH"),d=i("FA7f"),g=i("2UJW"),f=i("gu/E");let p=(()=>{class t{constructor(){this._logos=[],this.uid=Object(f.v1)(),this.businessCards=[],this.socialProducts=[],this.logoMaps=[],this.inputData=null,this.textUid=null,this.sloganUid=null,this.verticalSloganLogo=null,this.verticalLogo=null,this.textLogo=null,this.textSloganLogo=null,this.horizontalLogo=null,this.horizontalSloganLogo=null,this.iconLogo=null,this.created="",this.modified="",this.primaryMap=null,this.primaryLogo=null,this.primaryLogoType=null,this._groupedItems=null,this.shared=!1,this.isSingletonMode=!1,this._nextGroup=null}static get EDIT_URL(){return r.a.MAIN_URL+"/v3/brands/{id}/edit/"}static get MOBILE_EDIT_URL(){return r.a.MAIN_URL+"/a/editor/{id}"}static get SERVICE_URL(){return r.a.MAIN_URL+"/v3/js/brand/"}getLogo(t,e=null,i=null){if(null!==i)return this.getLogoById(i);null===e&&(e=this.primaryLogo.makerSlogans>0);var o=null;if(t===n.a.Vertical&&e)o=this.verticalSloganLogo;else if(t!==n.a.Vertical||e)if(t===n.a.Horizontal&&e)o=this.horizontalSloganLogo;else if(t!==n.a.Horizontal||e)if(t===n.a.Text&&e)o=this.textSloganLogo;else if(t!==n.a.Text||e){if(t===n.a.Icon)o=null===this.iconLogo?this.verticalLogo:this.iconLogo;else if(t>=s.a.START_INDEX){var r=t-s.a.START_INDEX;o=r<this._logos.length?this._logos[r]:this.verticalLogo}}else o=this.textLogo;else o=this.horizontalLogo;else o=this.verticalLogo;return o}getLogoById(t){var e=null;for(var i of this._logos)if(i.id===t){e=i;break}return e}getSharedUrl(){return this._logos.find(t=>null===t.primaryId).sharedUrl}getBusinessCardById(t){var e=null;for(var i of this.businessCards)if(i.id===t){e=i;break}return e}getFreeLogoId(){return this.logos.find(t=>t.makerType===s.a.HORIZONTAL&&0===t.makerSlogans).id}updateBusinessCard(t){var e=this.businessCards.findIndex(e=>e.id===t.id);-1!==e&&(this.businessCards[e]=t)}getSocialProductBySizeType(t){let e=null;for(let i of this.socialProducts)if(i.sizeType===t){e=i;break}return e}getSocialProductById(t){let e=null;for(let i of this.socialProducts)if(i.id===t){e=i;break}return e}updateSocialProduct(t){let e=this.socialProducts.findIndex(e=>e.sizeType===t.sizeType);-1!==e&&(this.socialProducts[e]=t)}get id(){return this.primaryLogo.id}get number(){return this.primaryLogo.number}get colorRange(){return this.primaryLogo.colorRange}set colorRange(t){for(var e of this._logos)e.colorRange=t}get text(){return this.primaryLogo.text}set text(t){for(var e of this._logos)e.text=t}get status(){return this.primaryLogo.status}set status(t){for(var e of this._logos)e.status=t}get logos(){return this._logos}get groupedItems(){return null===this._groupedItems&&this.groupItems(),this._groupedItems}addLogo(t){this._logos.push(t),t.makerType===n.a.Vertical&&t.makerSlogans>0?this.verticalSloganLogo=t:t.makerType===n.a.Vertical&&0===t.makerSlogans?this.verticalLogo=t:t.makerType===n.a.Horizontal&&t.makerSlogans>0?this.horizontalSloganLogo=t:t.makerType===n.a.Horizontal&&0===t.makerSlogans?this.horizontalLogo=t:t.makerType===n.a.Text&&t.makerSlogans>0?this.textSloganLogo=t:t.makerType===n.a.Text&&0===t.makerSlogans?this.textLogo=t:t.makerType===n.a.Icon&&(this.iconLogo=t)}replaceLogo(t){var e=this.getLogoById(t.id);if(null!==e&&e.makerId===t.makerId){var i=this._logos.indexOf(e);i>-1&&this._logos.splice(i,1),this.addLogo(t)}}serialize(){let t={primary:this.primaryLogo.serialize(),others:[],businessCards:[],userProfile:c.a.serialize(),apiAccess:d.a.publicToken(),shared:this.shared,singletonMode:this.isSingletonMode};for(let e of this._logos)e!==this.primaryLogo&&t.others.push(e.serialize());for(let e of this.businessCards)t.businessCards.push(e.serialize());return JSON.stringify(t)}save(){var e=this;return new Promise(function(i,n){t.brandManager.create(e).subscribe(t=>{e.primaryLogo.id=t.id,i(t)})})}singletonSave(){return this.isSingletonMode=!0,this.save()}partial_update(){var e=this,i=this.getChangedLogos(),n={logos:[],apiAccess:d.a.publicToken()};for(var s of i)n.logos.push(s.serialize(!0));return new Promise(function(i,s){t.brandManager.update(e.id,n).subscribe(t=>{i(t)})})}toggleFavorite(){return this.status==s.a.STATUS_FAVORITE?(this.status=s.a.STATUS_DEFAULT,this.delete()):(this.status=s.a.STATUS_FAVORITE,this.save())}delete(){var e=this,i={};return new Promise(function(n,s){g.ajax({type:"DELETE",url:t.SERVICE_URL+(e.id+"/"),dataType:"json",data:JSON.stringify(i),success:function(t){for(let i of e._logos)i.id=0;n()}})})}static fromId(t,e){for(let i of e)if(i.primaryLogo.id===t)return i;return null}static fromParentMapId(t,e){for(let i of e)if(i.parentMapId===t)return i;return null}static deserialize(e){var i=new t;for(var n of e.logos){var o=s.a.deserialize(n);null===o.primaryId&&(i.primaryLogo=o),i.addLogo(o)}for(var r of e.businessCards){var l=a.a.deserialize(r,i);i.businessCards.push(l)}for(var c of e.socialProducts){var u=h.a.deserialize(c,i);i.socialProducts.push(u)}return i}fixLogosOrder(){1!==this._logos.length&&(this._logos=[this.horizontalLogo,this.horizontalSloganLogo,this.verticalLogo,this.verticalSloganLogo,this.textLogo,this.textSloganLogo,this.iconLogo])}static deserializeNg(e){const i=new t;for(const t of e.brand){const e=s.a.deserializeNg(t);null===e.primaryId&&(i.primaryLogo=e),i.addLogo(e)}return i.fixLogosOrder(),i.socialProducts=e.socials.map(t=>h.a.deserialize(t,i)),i}static deserializeMany(e){var i=[];for(var n of e){var o=s.a.deserialize(n),r=o.getPrimaryId(),a=null;null===(a=t.fromId(r,i))&&(a=new t,i.push(a)),null===o.primaryId&&(a.primaryLogo=o),a.addLogo(o)}return i}static deserializeManyNg(e){const i=[];for(let n of e){let e=s.a.deserializeNg(n),o=t.fromId(e.getPrimaryId(),i);null===o&&(o=new t,i.push(o)),null===e.primaryId&&(o.primaryLogo=e),o.addLogo(e)}for(let t of i)t.fixLogosOrder();return i}static groupLogoItems(t){var e,i,n,s,o,r=[];for(var a of t.logos)for(var h of(e=[],i={},a.items)){if(h.group>0)return;switch(h.type){case l.a.SVG_ICON:o=`${h.type}.${h.iconId}`;break;case l.a.BASE_TEXT:case l.a.LOGO_NAME:case l.a.TAGLINE:case l.a.MONOGRAM:case l.a.CUSTOM_TEXT:o=`${h.type}.${h.text}`;break;case l.a.LINE:o=""+h.type}-1!==e.indexOf(o)?(i[o]=n=i[o]+1,o=`${o}.${n}`):(e.push(o),i[o]=0),-1===(s=r.indexOf(o))&&(r.push(o),s=r.indexOf(o)),h.group=s+1}}sortLogos(){var t=[this.primaryLogoType,this.primaryLogoType===n.a.Vertical?n.a.Horizontal:n.a.Vertical,n.a.Text,n.a.Icon],e=[];for(var i of(e.push(this.primaryLogo),this._logos.splice(this._logos.indexOf(this.primaryLogo),1),t))for(var s=this._logos.length;s>0;)s--,this._logos[s].makerType==i&&(e.push(this._logos[s]),this._logos.splice(s,1));this._logos=e}usedFonts(){var t=[];for(var e of this._logos)t=t.concat(e.usedFonts());for(var i of this.businessCards)t=t.concat(i.usedFonts());for(var n of this.socialProducts)t=t.concat(n.usedFonts());return t}fontFamilies(){let t=[];for(let e of this.logos)for(let i of e.textItems)-1==t.indexOf(i.font.fontFamily)&&t.push(i.font.fontFamily);return Array.from(new Set(t))}haveSvgIcons(){var t=!1;for(var e of this._logos)if(null!==e.icon){t=!0;break}return t}getChangedLogos(){var t=[];for(var e of this._logos)e.hasChanges()&&t.push(e);return t}groupItems(){for(var t of(this._groupedItems={},this._logos))for(var e of t.items){var i=e.group;this.groupedItems.hasOwnProperty(i)?this.groupedItems[i].push(e):this.groupedItems[i]=[e]}}addLogoItem(t,e){var i=null;for(var n of this._logos)if(n.id===t){i=n.addItem(e);break}return null!==i&&this.groupItems(),i}deleteLogoItem(t){var e=null;for(var i of this._logos)if(null!==(e=i.deleteItem(t)))break;return null!==e&&this.groupItems(),e}get nextGroup(){if(null===this._nextGroup)for(var t of this._logos)for(var e of t.items)e.group>this._nextGroup&&(this._nextGroup=e.group);return this._nextGroup+=1,this._nextGroup}clone(){var e=new t;for(var i of this._logos)i=i.clone(),e._logos.push(i),i.makerType===n.a.Vertical&&i.makerSlogans>0?e.verticalSloganLogo=i:i.makerType===n.a.Vertical&&0===i.makerSlogans?e.verticalLogo=i:i.makerType===n.a.Horizontal&&i.makerSlogans>0?e.horizontalSloganLogo=i:i.makerType===n.a.Horizontal&&0===i.makerSlogans?e.horizontalLogo=i:i.makerType===n.a.Text&&i.makerSlogans>0?e.textSloganLogo=i:i.makerType===n.a.Text&&0===i.makerSlogans?e.textLogo=i:i.makerType===n.a.Icon&&(e.iconLogo=i),null===i.primaryId&&(e.primaryLogo=i);return e.parentMapId=this.parentMapId,e.inputData=this.inputData,e.textUid=this.textUid,e.sloganUid=this.sloganUid,e.logoMaps=this.logoMaps,e.primaryMap=this.primaryMap,e.primaryLogoType=this.primaryLogoType,e._groupedItems=e.groupedItems,e}getIconLogo(){for(var t of this._logos)if(t.makerType===n.a.Icon)return t}setRandomColorRange(){let t=o.a.getRandom();this._logos.forEach(e=>{e.colorRange=t})}}return t.brandManager=new u.a,t})()},S9oo:function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},SNl6:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("ZL5I"),s=i("YDEh"),o=i("gwEI");class r extends n.a{constructor(t,e=null,i=null,n="multiply",s=null){super(),this.image=null,this.imageLoaded=!1,this.imageUrl=null==t?null:this.getFullUrl(t),this.bgColor=e,this.elColor=i,this.blendMode=n,this.pattern=s}loadImage(){let t=this;return new Promise(function(e,i){t.image=new Image,t.image.crossOrigin="anonymous",t.image.src=t.imageUrl,t.image.onload=function(){e()},t.image.onerror=function(){i()}})}preLoad(){null!=this.imageUrl&&this.loadImage().then(()=>this.imageLoaded=!0)}load(){if(null!=this.imageUrl)return new Promise((t,e)=>{this.imageLoaded?t():this.loadImage().then(()=>t(),()=>e())})}getFill(t){return this.bgColor===s.a.BG_TRANSPARENT&&null===this.imageUrl?null:t.colorRange.getFill(this.bgColor,this.elColor)}draw(t,e,i,n,s){let r=this.getFill(t);if(e.save(),null!==i&&i.setToContext2d(e),null!=r){let t=o.a.forTemp(e.canvas.width,0===n?e.canvas.height:n);if(r.toContext2d(t),t.fillRect(0,0,t.canvas.width,t.canvas.height),null===this.imageUrl)return e.drawImage(t.canvas,0,0),void e.restore();if(t.globalCompositeOperation=this.blendMode,null!==this.pattern){let e=t.createPattern(this.image,this.pattern);t.fillStyle=e,t.fillRect(0,0,t.canvas.width,t.canvas.height)}else t.drawImage(this.image,0,0),t.globalCompositeOperation="destination-in",t.drawImage(this.image,0,0);t.restore(),e.drawImage(t.canvas,0,0)}else null!==this.image&&e.drawImage(this.image,0,0);e.restore()}}},TpxU:function(t,e,i){var n=i("hhe8");t.exports=function(t){return function(e,i,s){for(var o=n(e),r=s(e),a=r.length,l=t?a:-1;t?l--:++l<a;){var h=r[l];if(!1===i(o[h],h,o))break}return e}}},WicD:function(t,e,i){var n=i("DZN5"),s=i("AV5f");t.exports=function(t,e){return n(t,e,s)}},X4ck:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("jtHE"),s=i("R2xI"),o=i("B5yn"),r=i("vkgz"),a=i("jO/Y"),l=i("zs7F"),h=i("mAg2"),c=i("B3uM"),u=i("fXoL"),d=i("KoW7"),g=i("IYfF"),f=i("tk/3");i("+6eH");let p=(()=>{class t{constructor(t,e,i,s){this.translationsService=t,this.authService=e,this.http=i,this.brandManager=s,this.brands$=new n.a(1),this.currentBrand$=new n.a(1),this.plans$=new n.a(1),this.socials$=new n.a(1),this.accountSrc$=new n.a(1),this.allBrandsIsLoading=!1,this.cached=!1}loadAllBrands(){this.brandManager.getAll().subscribe(t=>{this.brands$.next(this.deserializeBrands(t))})}deserializeBrands(t){return s.a.deserializeManyNg(t)}getAllBrands(){return this.brands$.asObservable()}cloneBrand(t){return this.brandManager.clone(t).pipe(Object(r.a)(()=>this.loadAllBrands()))}deleteBrand(t){return this.brandManager.delete(t).pipe(Object(r.a)(()=>this.loadAllBrands()))}loadAccountSource(t){return this.businessCardsNeedUpdate=!0,this.brandManager.get(t)}loadBusinessCards(t){return this.brandManager.getBusinessCard(t)}getPaymentStatus(t){return this.translationsService.getTranslation(o.b[t])}isUpgradeVisible(t,e){return(0===t||1===t)&&"digital"!==e||2===t&&"digital"!==e&&"logo"!==e}isPayedPlan(t){return o.a.includes(t)}isMaxPlan(t){return t>=h.a.L}getPriceLink(t){return`/pricing/?logoId=${t}&next=${encodeURIComponent(location.pathname)}`}isBriefUserFlow(){const t=this.authService.getPlanVersion();return l.a.isBriefUserflow(t)}checkDefaultAccountByPV(){const t=this.authService.getPlanVersion();return l.a.isDefaultAccount(t)}isNgPricingV2(){const t=this.authService.getPlanVersion();return l.a.isNgPricingV2(t)}checkNgPricing(){const t=this.authService.getPlanVersion();return l.a.isNgPricing(t)||l.a.isNgPricingV2(t)}cachePlans(t){this.plans$.next(t)}applyBusinessCards(t,e){return e.businessCards=t.map(t=>a.a.deserialize(t,e)),this.businessCardsNeedUpdate=!1,e.businessCards}cacheSocials(t){this.socials$.next(t)}cacheCurrentBrand(t){this.currentBrand$.next(t)}cacheAccountSource(t){this.accountSrc$.next(t)}getCurrentBrand(){return this.currentBrand$.asObservable()}getPlans(){return this.plans$.asObservable()}getSocials(){return this.socials$.asObservable()}getAccountSource(){return this.accountSrc$.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(u.Vb(d.a),u.Vb(g.a),u.Vb(f.a),u.Vb(c.a))},t.\u0275prov=u.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},X7sL:function(t,e,i){var n=i("0Ljl"),s=i("Mqwf"),o=i("sRNs"),r=i("POAC"),a=i("1dEq"),l=i("2jAP"),h=i("skmK"),c=Math.max;t.exports=function(t,e,i,u){var d=t?s(t):0;return a(d)||(d=(t=h(t)).length),i="number"!=typeof i||u&&r(e,i,u)?0:i<0?c(d+i,0):i||0,"string"==typeof t||!o(t)&&l(t)?i<=d&&t.indexOf(e,i)>-1:!!d&&n(t,e,i)>-1}},XbSU:function(t,e,i){var n=i("Mqwf"),s=i("1dEq");t.exports=function(t){return null!=t&&s(n(t))}},Z6ft:function(t,e,i){var n=i("66oy"),s=0;t.exports=function(t){var e=++s;return n(t)+e}},ZEuN:function(t,e,i){var n=i("Mqwf"),s=i("1dEq"),o=i("hhe8");t.exports=function(t,e){return function(i,r){var a=i?n(i):0;if(!s(a))return t(i,r);for(var l=e?a:-1,h=o(i);(e?l--:++l<a)&&!1!==r(h[l],l,h););return i}}},ZL5I:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r});var n=i("UtAn"),s=i("TNoi"),o=function(t){return t[t.Any=0]="Any",t[t.Logo=1]="Logo",t[t.BusinessCard=2]="BusinessCard",t[t.SocialProduct=3]="SocialProduct",t}({});class r{constructor(){this.type=o.Any,this.width=0,this.height=0}getFullUrl(t){return n.a.STATIC_ROOT_URL+"/static/v3/showcase/"+t}load(){}loadDynamic(t){return Promise.resolve()}draw(t,e,i,n,s,o){}update(t,e,i=null){}reset(){}clearContext2d(t){s.a.resetContext2d(t),t.clearRect(0,0,t.canvas.width,t.canvas.height)}}},a6tp:function(t,e){t.exports=function(t){return!!t&&"object"==typeof t}},aAvQ:function(t,e,i){var n=i("zYA3"),s=i("AV5f");t.exports=function(t,e){return null==e?t:n(e,s(e),t)}},dANL:function(t,e,i){var n=i("PXEn"),s=i("sRNs"),o=i("Kc75"),r=i("1dEq"),a=i("S9oo"),l=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return[];a(t)||(t=Object(t));var e=t.length;e=e&&r(e)&&(s(t)||n(t))&&e||0;for(var i=t.constructor,h=-1,c="function"==typeof i&&i.prototype===t,u=Array(e),d=e>0;++h<e;)u[h]=h+"";for(var g in t)d&&o(g,e)||"constructor"==g&&(c||!l.call(t,g))||u.push(g);return u}},e2fL:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i("fXoL"),s=i("8cr0"),o=i("YDEh"),r=i("ofXK");const a=["canvas"];function l(t,e){1&t&&(n.Rb(0,"div",4),n.Rb(1,"div",5),n.Mb(2,"div",6),n.Rb(3,"div",7),n.Mb(4,"div",8),n.Qb(),n.Qb(),n.Qb())}let h=(()=>{class t{constructor(t,e,i){this.ngZone=t,this.elRef=e,this.cdr=i,this.canvasCtx=null,this.rendered=new n.n,this.componentName="all",this.scale=1,this.withLoader=!1,this.bcID=0,this.textMap=null,this.el=e}ngAfterViewInit(){var t;this.colorCombination=null!==(t=this.colorCombination)&&void 0!==t?t:s.a.getCombination(null,o.a.BG_B,o.a.BG_WHITE),this.renderShowcase()}renderShowcase(){this.render().then(()=>{this.cdr.markForCheck(),this.rendered.emit()})}render(){return this.ngZone.runOutsideAngular(()=>(this.showcase&&(this.showcase.colorCombination=Object.assign({},this.colorCombination)),null===this.canvasCtx&&(this.canvasCtx=this.canvas.nativeElement.getContext("2d"),this.canvasCtx.canvas.width=this.width,this.canvasCtx.canvas.height=this.height),this.showcase.draw(this.brand,this.canvasCtx,void 0,this.textMap,this.logoId).catch(t=>{console.error(t)})))}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(n.z),n.Lb(n.l),n.Lb(n.h))},t.\u0275cmp=n.Fb({type:t,selectors:[["lg-showcase"]],viewQuery:function(t,e){if(1&t&&n.Ec(a,!0),2&t){let t;n.uc(t=n.Zb())&&(e.canvas=t.first)}},inputs:{brand:"brand",componentName:"componentName",showcase:"showcase",logoId:"logoId",width:"width",height:"height",scale:"scale",withLoader:"withLoader",colorCombination:"colorCombination",bcID:"bcID",textMap:"textMap"},outputs:{rendered:"rendered"},decls:4,vars:4,consts:[[1,"showcase"],["class","animated-preloader-src",4,"ngIf"],[1,"showcase-canvas"],["canvas",""],[1,"animated-preloader-src"],[1,"animated-wrapper"],[1,"logo-icon","animate-bg"],[1,"text-wrapper"],[1,"logo-text","animate-bg"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Ic(1,l,5,0,"div",1),n.Mb(2,"canvas",2,3),n.Qb()),2&t&&(n.Fc("transform","scale("+e.scale+")"),n.zb(1),n.jc("ngIf",e.withLoader),n.zb(1),n.Ab("data-bcid",e.bcID))},directives:[r.l],styles:["@keyframes placeHolderShimmer{0%{background-position:-400px 0}to{background-position:400px 0}}.animated-preloader-src[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0;align-items:center;display:flex}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]{max-width:220px;width:80%;justify-content:space-between;flex-direction:column;margin:auto;position:absolute;left:0;right:0}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]   .animate-bg[_ngcontent-%COMP%]{background:linear-gradient(90deg,#eee 8%,#ddd 18%,#eee 33%);background-size:800px 104px;animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeHolderShimmer;animation-timing-function:linear}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]   .animate-bg.logo-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:20px auto 40px;background-color:#e3e3e3;border-radius:50%}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]   .animate-bg[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{width:90%;margin:0 auto}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]   .animate-bg[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{width:100%;height:20px;background-color:#e3e3e3;border-radius:10px;margin:5% 0 10%}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{width:90%;margin:0 auto}.animated-preloader-src[_ngcontent-%COMP%]   .animated-wrapper[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{width:100%;height:20px;background-color:#e3e3e3;border-radius:10px;margin:5% 0 10%}canvas[_ngcontent-%COMP%]{display:block;width:100%}"],changeDetection:0}),t})()},ehg8:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("I/rG"),s=i("TNoi"),o=i("mrhZ"),r=i("+h0N");class a{constructor(t){this._logo=null,this.context2d=null,this.items=[],this.zoom=1,this.watermark=null,this.debugMode=!1,this.padding=10,this.traceRect=new o.a(0,0,n.a.LOGO_SUGGESTION_WIDTH,n.a.LOGO_SUGGESTION_HEIGHT),this._offsetMatrix=null,this._lastColorCombination=null,this._cashedItems=[],this._needRedraw=!0,this.context2d=t}set width(t){this.traceRect.width=t}get width(){return this.traceRect.width}set height(t){this.traceRect.height=t}get height(){return this.traceRect.height}set offsetMatrix(t){this._needRedraw||(this._needRedraw=null===this._offsetMatrix||!this._offsetMatrix.equals(t)),this._offsetMatrix=t}get offsetMatrix(){return this._offsetMatrix}set logo(t){this._logo=t,this._needRedraw=this._detectRedraw(),this._updateCashedItems()}get logo(){return this._logo}_updateCashedItems(){this._cashedItems=[];for(let e of this._logo.items){var t=e.clone();this._cashedItems.push(t)}}_detectRedraw(){if(this._needRedraw||this._logo.items.length!==this._cashedItems.length)return!0;let t=this._cashedItems;return!this._logo.items.every((e,i)=>e.equals(t[i],!0))}_calculateMatrix(){this.traceRect.width!=n.a.LOGO_SUGGESTION_WIDTH&&this.traceRect.height!=n.a.LOGO_SUGGESTION_HEIGHT&&(this.zoom=1);let t=this.getCenteringMatrix(this.padding,this.traceRect.width,this.traceRect.height);return t.translate(this.traceRect.x,this.traceRect.y),null!==this._offsetMatrix&&t.concat(this._offsetMatrix),t}getCenteringMatrix(t=10,e=n.a.LOGO_SUGGESTION_WIDTH,i=n.a.LOGO_SUGGESTION_HEIGHT){return this._logo.getCenteringMatrix(this.padding,this.traceRect.width,this.traceRect.height)}skipRedraw(t,e){return!1}draw(t=null,e=!1){if(this.skipRedraw(t,e))return;null!==t&&(this._lastColorCombination=t.clone());let i=[];this.clear();let n=this._calculateMatrix(),s=this.getOffset(n);n.concat(s.offsetMatrix);for(let o of this._logo.items){if(o.isText&&""===o.text)continue;let e=r.a.get(o,this.context2d,i);null===e.offsetMatrix?e.offsetMatrix=n:e.offsetMatrix.concat(n),e.zoom=this.zoom,i.push(e),e.draw(t)}this.items=i,this._needRedraw=!1,null!==this.watermark&&this.drawWatermark(),this.debugMode&&this.drawOutline(),this.postDraw(n)}postDraw(t){}drawWatermark(){this.context2d.drawImage(this.watermark,0,0)}drawOutline(){this.context2d.save(),null!==this._offsetMatrix&&this._offsetMatrix.setToContext2d(this.context2d),this.context2d.lineWidth=2,this.context2d.strokeRect(this.traceRect.x,this.traceRect.y,this.traceRect.width*this.zoom,this.traceRect.height*this.zoom),this.context2d.restore()}clear(){s.a.resetContext2d(this.context2d),this.context2d.clearRect(0,0,this.context2d.canvas.width,this.context2d.canvas.height)}getOffset(t){return{offsetMatrix:new s.a}}}},"g/co":function(t,e,i){"use strict";i.d(e,"a",function(){return r});class n{constructor(t="000000",e=1,i=0){this.color=t,this.alpha=e,this.ratio=i}get colorHex(){return"#"+this.color}}var s=i("WVmJ"),o=i("Imjg");class r extends s.a{constructor(){super(...arguments),this.entries=[],this.angle=0}serializeGradientStops(){for(var t="",e=0;e<this.entries.length;e++){var i=this.entries[e];t+=" "+i.color.toString()+";"+i.alpha+";"+i.ratio.toString()}return t}serialize(){var t=super.serialize();return t+=" lg",(t+=" "+this.angle.toString())+this.serializeGradientStops()}static deserializeGradientStops(t){var e=[];if(!(null==t||t.length<3)){for(var i=3;i<t.length;i++){var s=t[i];if(""!=s){var o=s.split(";"),r=Number(o[2]);(-1==r||isNaN(r))&&(r=1/(t.length-1)*i);var a=new n(o[0],parseInt(o[1]),r);e.push(a)}}return e}}static deserialize(t){var e=new r("000000"),i=t.split(" ");return"lg"==i[1]&&(e.color=i[0],e.angle=parseInt(i[2]),e.entries=r.deserializeGradientStops(i)),e}toContext2d(t,e){for(var i=t.createLinearGradient(e.x+e.width/2,e.y,e.x+e.width/2,e.y+e.height),n=0;n<this.entries.length;n++){var s=this.entries[n];i.addColorStop(s.ratio,"#"+s.color)}t.fillStyle=i}toSvg(t,e){var i=t.getAttribute("id")+"_fill";e.appendChild(o.a.createGradientXml(i,this)),t.setAttribute("fill","url(#{fillIdentifier})")}}},hhe8:function(t,e,i){var n=i("S9oo");t.exports=function(t){return n(t)?t:Object(t)}},iiAY:function(t,e,i){var n=i("IpVJ"),s=i("sRNs");t.exports=function(t,e){return function(i,o,r){return"function"==typeof o&&void 0===r&&s(i)?t(i,o):e(i,n(o,r,3))}}},"ipu/":function(t,e){t.exports=function(t,e){for(var i=-1,n=t.length;++i<n&&!1!==e(t[i],i,t););return t}},kLPJ:function(t,e){t.exports=function(t){return t}},lcqf:function(t,e){t.exports=function(t,e,i){for(var n=t.length,s=e+(i?0:-1);i?s--:++s<n;){var o=t[s];if(o!=o)return s}return-1}},mAg2:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(t){return t[t.XS=1]="XS",t[t.S=2]="S",t[t.M=3]="M",t[t.L=4]="L",t}({})},mCiA:function(t,e,i){var n;!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var r=s.apply(null,n);r&&t.push(r)}else if("object"===o)for(var a in n)i.call(n,a)&&n[a]&&t.push(a)}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0===(n=(function(){return s}).apply(e,[]))||(t.exports=n)}()},mGzF:function(t,e,i){var n,s,o;s=[i("2UJW")],void 0===(o="function"==typeof(n=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?n.apply(e,s):n)||(t.exports=o)},meTb:function(t,e,i){var n=i("AV5f");t.exports=function(t,e,i){for(var s=-1,o=n(e),r=o.length;++s<r;){var a=o[s],l=t[a],h=i(l,e[a],a,t,e);((h==h?h!==l:l==l)||void 0===l&&!(a in t))&&(t[a]=h)}return t}},"p/0C":function(t,e){t.exports=function(){}},q6zK:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("Pa5M"),s=i("8cr0");class o extends n.a{update(t,e,i=null){for(var n of(i&&(t=i.bgColor,e=i.elColor),this.items))n.colorCombination=s.a.getCombination(n.colorCombination.colorRange,t,e)}reset(){for(var t of this.items)t.colorCombination=t.srcColorCombination}}},r3lR:function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i("xbbs"),s=i("TNoi"),o=i("NwTh"),r=i("WVmJ");class a{constructor(t,e,i,n){this._p1=t,this._p2=e,this._p3=i,this._p4=n}_calculateLength(t,e){let i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}get p1(){return this._p1}get p2(){return this._p2}get p3(){return this._p3}get p4(){return this._p4}get width(){return this._calculateLength(this._p1,this._p2)}get height(){return this._calculateLength(this._p1,this._p3)}}var l=i("gu/E");class h{constructor(t,e){if(t.x===e.x)return this.k=null,void(this.b=t.x);this.k=(t.y-e.y)/(t.x-e.x),this.b=t.y-this.k*t.x}get isVertical(){return null===this.k}static detectThatLinesParallels(t,e){return!(!t.isVertical||!e.isVertical)||!(t.isVertical&&!e.isVertical||!t.isVertical&&e.isVertical)&&Math.abs(t.k-e.k)<=1e-4}static calculateDistanceBetweenLines(t,e){if(!h.detectThatLinesParallels(t,e))throw new Error("Lines are not parallels.");return Math.abs(t.b-e.b)}getAngle(){let t;return t=this.isVertical?Math.PI/2:Math.atan(this.k),t}detectDelta(t){if(!h.detectThatLinesParallels(t,this))throw new Error("Lines are not parallels");let e=this.getAngle(),i=t.b-this.b;return new o.a(i*Math.sin(e),i*Math.cos(e))}equals(t){return!(!this.isVertical&&t.isVertical||this.isVertical&&!t.isVertical)&&(this.isVertical&&t.isVertical||this.k==t.k)&&Math.abs(this.b-t.b)<=1e-6}get key(){return this.isVertical?"null":this.k.toString()}}class c{constructor(t,e){this._p1=t,this._p2=e,this._line=new h(t,e)}get p1(){return this._p1}get p2(){return this._p2}get line(){return this._line}middlePoint(){return new o.a(Math.round((this.p1.x+this.p2.x)/2),Math.round((this.p1.y+this.p2.y)/2))}drawSegmentEnd(t,e){let i=Math.abs(this.line.getAngle()),n=new o.a(e.x+7*Math.sin(i),e.y+7*Math.cos(i)),s=new o.a(e.x-7*Math.sin(i),e.y-7*Math.cos(i));t.moveTo(n.x,n.y),t.lineTo(s.x,s.y)}draw(t,e,i=1,n=!1){t.save(),t.strokeStyle=e,t.lineWidth=i,t.beginPath(),t.moveTo(this._p1.x,this._p1.y),t.lineTo(this._p2.x,this._p2.y),n&&(this.drawSegmentEnd(t,this._p1),this.drawSegmentEnd(t,this._p2)),t.stroke(),t.restore()}checkPointAreInSegment(t,e){return t.equals(this._p1)&&e.equals(this._p2)||e.equals(this._p1)&&t.equals(this._p2)}}var u=i("gwEI");let d=(()=>{class t{constructor(e){this._item=null,this._cloned=null,this.context2d=null,this.zoom=1,this.transformable=null,this.offsetMatrix=null,this.editable=!1,this._lastColorCombination=null,this._hasChanges=!1,this._cachedWidth=0,this.context2d=e,this.id=Object(l.v4)(),this._cachedContext2d=u.a.forLogoItem(e.canvas.width+t._CACHE_CANVAS_SIZE,e.canvas.height+t._CACHE_CANVAS_SIZE)}get item(){return this._item}setItem(t){t.equals(this._cloned)||(this._item=t,this._hasChanges=!0,this._cloned=t.clone())}get hasChanges(){return this._hasChanges}set lastColorCombination(t){this._lastColorCombination=t.clone()}draw(t=null){}drawPrimitive(t,e=null){}getFill(t=null){return null===t?null!==this.item.fill?this.item.fill:new r.a("000000"):t.getFill(this.item.fill)}resetTransformable(){this.transformable=null}initializeTransformable(){this.transformable=new n.a(this._item.bounds.width,this._item.bounds.height,this.getMatrixForTransformable(),this)}getMatrixForTransformable(){var t=new s.a;return t.translate(this._item.bounds.x,this._item.bounds.y),t.concat(this._item.maths.matrix),t.scale(this.zoom,this.zoom),null!==this.offsetMatrix&&t.concat(this.offsetMatrix),t}_getCurrentBounds(){let t=null!==this.transformable?this.transformable.matrix.clone():this.getMatrixForTransformable(),e=null!==this.transformable?this.transformable.width:this.item.bounds.width,i=null!==this.transformable?this.transformable.height:this.item.bounds.height,n=t.transformPoint(new o.a(0,0)),s=t.transformPoint(new o.a(e,0)),r=t.transformPoint(new o.a(e,i)),l=t.transformPoint(new o.a(0,i));return new a(n,s,r,l)}drawBorder(t="#9c9c9c",e=1){let i=this._getCurrentBounds();var n=i.p1,s=i.p2,o=i.p3,r=i.p4;this.context2d.save(),this.context2d.strokeStyle=t,this.context2d.lineWidth=e,this.context2d.beginPath(),this.context2d.moveTo(n.x,n.y),this.context2d.lineTo(s.x,s.y),this.context2d.lineTo(o.x,o.y),this.context2d.lineTo(r.x,r.y),this.context2d.lineTo(n.x,n.y),this.context2d.stroke(),this.context2d.restore()}getMatrixFromTransformable(){var t=this.transformable.matrix.clone(),e=new s.a;return null!==this.offsetMatrix&&(e.concat(this.offsetMatrix),e.invert(),t.concat(e)),e.identity(),e.scale(this.zoom,this.zoom),e.invert(),t.concat(e),e.identity(),e.translate(this._item.bounds.x,this._item.bounds.y),e.invert(),e.concat(t),e}getMatrixForContext2d(){return null!==this.transformable?this.getMatrixFromTransformable():this._item.maths.matrix.clone()}getId(){return this.id}getSegments(){let t=[],e=this._getCurrentBounds(),i=5e3,n=5e3,s=0,r=0;[e.p1,e.p2,e.p3,e.p4].forEach(t=>{t.x<i&&(i=t.x),t.y<n&&(n=t.y),t.x>s&&(s=t.x),t.y>r&&(r=t.y)});let a=new o.a(i,n),l=new o.a(s,n),h=new o.a(s,r),u=new o.a(i,r);t.push(new c(a,l)),t.push(new c(l,h)),t.push(new c(h,u)),t.push(new c(u,a));let d=new o.a((a.x+l.x)/2,(a.y+l.y)/2),g=new o.a((l.x+h.x)/2,(l.y+h.y)/2),f=new o.a((h.x+u.x)/2,(h.y+u.y)/2),p=new o.a((u.x+a.x)/2,(u.y+a.y)/2);return t.push(new c(d,f)),t.push(new c(g,p)),t}}return t._CACHE_CANVAS_SIZE=200,t})()},rd52:function(t,e,i){t.exports=i("X7sL")},sRNs:function(t,e,i){var n=i("wdO1"),s=i("1dEq"),o=i("a6tp"),r=Object.prototype.toString,a=n(Array,"isArray");t.exports=a||function(t){return o(t)&&s(t.length)&&"[object Array]"==r.call(t)}},skmK:function(t,e,i){var n=i("JL1i"),s=i("AV5f");t.exports=function(t){return n(t,s(t))}},tI21:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL"),s=i("KoW7");let o=(()=>{class t{constructor(t){this.translationService=t}transform(t,e){let i=this.translationService.getTranslation(t);return e&&(i=i.replace(/{\w*}/,e)),i}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(s.a))},t.\u0275pipe=n.Kb({name:"translations",type:t,pure:!1}),t})()},tR2b:function(t,e,i){var n,s,o;s=[i("2UJW"),i("mGzF")],void 0===(o="function"==typeof(n=function(t){return function(){var e,i=Math.max,n=Math.abs,s=/left|center|right/,o=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,h=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function u(e,i){return parseInt(t.css(e,i),10)||0}function d(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,n,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),i=o.offsetWidth,s.css("overflow","scroll"),i===(n=o.offsetWidth)&&(n=s[0].clientWidth),s.remove(),e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:n||s?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return h.apply(this,arguments);e=t.extend({},e);var l,g,f,p,m,v,w=t(e.of),b=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(b),y=(e.collision||"flip").split(" "),_={};return v=d(w),w[0].preventDefault&&(e.at="left top"),g=v.width,f=v.height,m=t.extend({},p=v.offset),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",t=r.exec(n[0]),i=r.exec(n[1]),_[this]=[t?t[0]:0,i?i[0]:0],e[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===e.at[0]?m.left+=g:"center"===e.at[0]&&(m.left+=g/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),l=c(_.at,g,f),m.left+=l[0],m.top+=l[1],this.each(function(){var s,o,r=t(this),a=r.outerWidth(),h=r.outerHeight(),d=u(this,"marginLeft"),v=u(this,"marginTop"),C=a+d+u(this,"marginRight")+x.width,T=h+v+u(this,"marginBottom")+x.height,I=t.extend({},m),L=c(_.my,r.outerWidth(),r.outerHeight());"right"===e.my[0]?I.left-=a:"center"===e.my[0]&&(I.left-=a/2),"bottom"===e.my[1]?I.top-=h:"center"===e.my[1]&&(I.top-=h/2),I.left+=L[0],I.top+=L[1],s={marginLeft:d,marginTop:v},t.each(["left","top"],function(i,n){t.ui.position[y[i]]&&t.ui.position[y[i]][n](I,{targetWidth:g,targetHeight:f,elemWidth:a,elemHeight:h,collisionPosition:s,collisionWidth:C,collisionHeight:T,offset:[l[0]+L[0],l[1]+L[1]],my:e.my,at:e.at,within:b,elem:r})}),e.using&&(o=function(t){var s=p.left-I.left,o=s+g-a,l=p.top-I.top,c=l+f-h,u={target:{element:w,left:p.left,top:p.top,width:g,height:f},element:{element:r,left:I.left,top:I.top,width:a,height:h},horizontal:o<0?"left":s>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};g<a&&n(s+o)<g&&(u.horizontal="center"),f<h&&n(l+c)<f&&(u.vertical="middle"),u.important=i(n(s),n(o))>i(n(l),n(c))?"horizontal":"vertical",e.using.call(this,t,u)}),r.offset(t.extend(I,{using:o}))})},t.ui.position={fit:{left:function(t,e){var n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,a=s-r,l=r+e.collisionWidth-o-s;e.collisionWidth>o?a>0&&l<=0?t.left+=a-(t.left+a+e.collisionWidth-o-s):t.left=l>0&&a<=0?s:a>l?s+o-e.collisionWidth:s:a>0?t.left+=a:l>0?t.left-=l:t.left=i(t.left-r,t.left)},top:function(t,e){var n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,a=s-r,l=r+e.collisionHeight-o-s;e.collisionHeight>o?a>0&&l<=0?t.top+=a-(t.top+a+e.collisionHeight-o-s):t.top=l>0&&a<=0?s:a>l?s+o-e.collisionHeight:s:a>0?t.top+=a:l>0?t.top-=l:t.top=i(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,o=e.within,r=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,h=l-a,c=l+e.collisionWidth-r-a,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,g=-2*e.offset[0];h<0?((i=t.left+u+d+g+e.collisionWidth-r-(o.offset.left+o.scrollLeft))<0||i<n(h))&&(t.left+=u+d+g):c>0&&((s=t.left-e.collisionPosition.marginLeft+u+d+g-a)>0||n(s)<c)&&(t.left+=u+d+g)},top:function(t,e){var i,s,o=e.within,r=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,h=l-a,c=l+e.collisionHeight-r-a,u="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];h<0?((s=t.top+u+d+g+e.collisionHeight-r-(o.offset.top+o.scrollTop))<0||s<n(h))&&(t.top+=u+d+g):c>0&&((i=t.top-e.collisionPosition.marginTop+u+d+g-a)>0||n(i)<c)&&(t.top+=u+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position})?n.apply(e,s):n)||(t.exports=o)},tYOQ:function(t,e,i){"use strict";i.d(e,"a",function(){return n});let n=(()=>{class t{constructor(t,e,i=!1){this.upId=t,this.vk=e,this.isTemp=i}static serialize(){return t.current?{id:t.current.upId,vk:t.current.vk,temp:t.current.isTemp}:null}static deserialize(e){void 0!==e&&void 0!==e.id&&void 0!==e.vk&&void 0!==e.temp&&(t.current=new t(e.id,e.vk,e.temp))}}return t.current=null,t})()},tr1Q:function(t,e,i){t.exports=i("HDCP")},utsC:function(t,e,i){var n=i("PXEn"),s=i("sRNs"),o=i("Kc75"),r=i("1dEq"),a=i("dANL"),l=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=a(t),i=e.length,h=i&&t.length,c=!!h&&r(h)&&(s(t)||n(t)),u=-1,d=[];++u<i;){var g=e[u];(c&&o(g,h)||l.call(t,g))&&d.push(g)}return d}},vhon:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("SNl6"),s=i("YDEh");class o extends n.a{constructor(t,e=null,i=null,n="multiply",s=null){super(t,e,i,n,s),this.startBlendMode=n}update(t,e,i=null){i&&(t=i.bgColor),this.bgColor=t,this.blendMode=null===this.elColor&&this.bgColor===s.a.BG_TRANSPARENT?"source-over":this.startBlendMode}reset(){}}},wdO1:function(t,e,i){var n=i("AQHL");t.exports=function(t,e){var i=null==t?void 0:t[e];return n(i)?i:void 0}},xbbs:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("TNoi");class s{constructor(t=0,e=0,i=new n.a,s){this.changed=null,this.width=t,this.height=e,this.matrix=i,this.owner=s}}},yQza:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL"),s=i("tnpg");let o=(()=>{class t{constructor(t,e,i){this.elRef=t,this.renderer=e,this.googleAnalyticsService=i,this.gaProperties={}}ngAfterContentInit(){this.renderer.listen(this.elRef.nativeElement,this.lgGoogleAnalytics||"click",t=>this.eventTrack(t))}eventTrack(t){this.googleAnalyticsService.trackGA(this.gaCategory,this.gaAction,this.gaLabel,this.gaValue)}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(n.l),n.Lb(n.E),n.Lb(s.a))},t.\u0275dir=n.Gb({type:t,selectors:[["","lgGoogleAnalytics",""]],inputs:{lgGoogleAnalytics:"lgGoogleAnalytics",gaAction:"gaAction",gaCategory:"gaCategory",gaLabel:"gaLabel",gaValue:"gaValue",gaProperties:"gaProperties"}}),t})()},z9XM:function(t,e,i){t.exports=i("IbFv")},zYA3:function(t,e){t.exports=function(t,e,i){i||(i={});for(var n=-1,s=e.length;++n<s;){var o=e[n];i[o]=t[o]}return i}}}]);