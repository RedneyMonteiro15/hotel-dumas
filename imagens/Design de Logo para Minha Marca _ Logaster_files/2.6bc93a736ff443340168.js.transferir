(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1mqP":function(t,e,s){"use strict";s.d(e,"a",function(){return l});var i=s("mrSG"),a=s("vuvx"),n=s("zs7F");const r={business:{stepName:"business",isBack:!1,backRoute:"",isSkip:!0,isVisible:!0,nextRoute:"type"},type:{stepName:"type",isBack:!0,backRoute:"",isSkip:!1,isVisible:!0,nextRoute:"icons"},icons:{stepName:"icons",isBack:!0,backRoute:"type",isSkip:!0,isVisible:!0,nextRoute:"name"},name:{stepName:"name",isBack:!0,backRoute:"icons",isSkip:!1,isVisible:!0,nextRoute:"colors"},colors:{stepName:"colors",isBack:!0,backRoute:"name",isSkip:!0,isVisible:!0,nextRoute:"finish"}};var o=s("fXoL"),c=s("tyNb"),h=s("IYfF");let l=(()=>{class t{constructor(t,e){this.router=t,this.authService=e,this.navigationKeys=Object.keys(this.navigationConfig)}start(){return Object(i.a)(this,void 0,void 0,function*(){this.next(this.navigationConfig.name)})}previous(t){return Object(i.a)(this,void 0,void 0,function*(){const e=t.backRoute?["./wizard",this.getStepName(t,!1)]:["./wizard"];yield this.router.navigate(e)})}next(t){return Object(i.a)(this,void 0,void 0,function*(){this.isJapanRedirectNeeded(t.stepName),yield this.router.navigate(["./wizard",this.getStepName(t,!0)])})}getStepName(t,e,s=1){const i=(e?1:-1)*s,a=this.navigationKeys.indexOf(t.stepName)+i;return a<0||a>this.navigationKeys.length-1?"":this.isStepHidden(a)?this.getStepName(t,e,++s):this.navigationKeys[a]}isStepHidden(t){return!this.navigationConfig[this.navigationKeys[t]].isVisible}finish(){return Object(i.a)(this,void 0,void 0,function*(){setTimeout(()=>this.router.navigate(["./wizard","logos"]),100)})}get navigationConfig(){const t=this.authService.getPlanVersion();return n.a.isBriefV2(t)?r:a.a}patchStepsConfig(t,e){const s=this.authService.getPlanVersion();n.a.isBriefV2(s)?this.patchStepsBriefV2(t,e):this.patchStepsBriefV1(t,e)}patchStepsBriefV1(t,e){"icons"===t&&(this.navigationConfig.icons.isVisible=e)}patchStepsBriefV2(t,e){switch(t){case"name":this.navigationConfig.name.isVisible=e;break;case"icons":this.navigationConfig.icons.isVisible=e}}isJapanRedirectNeeded(t){t===this.navigationConfig.name.stepName&&this.japanRedirectUrl&&(window.location.href=this.japanRedirectUrl)}setJapanRedirectUrl(t){this.japanRedirectUrl=t}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(c.d,8),o.Vb(h.a))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},JKMP:function(t,e,s){"use strict";s.d(e,"c",function(){return i}),s.d(e,"b",function(){return a}),s.d(e,"a",function(){return n});class i{}class a{}class n{}},UbVK:function(t,e,s){"use strict";s.d(e,"a",function(){return r});var i=s("Jruu");let a=(()=>{class t{constructor(){this._text="",this._slogan="",this._textScripts=null,this._sloganScripts=null,this.abbrs=[],this.texts=[],this.slogans=[],this.words=0,this.sloganWords=0}get text(){return this._text}get slogan(){return this._slogan}set text(t){t!==this._text&&(this._text=t,this._textScripts=null)}set slogan(t){t!==this._slogan&&(this._slogan=t,this._sloganScripts=null)}getTexts(t){for(var e of this.texts)if(e.uid==t)return e;return null}getAbbrs(t){for(var e of this.abbrs)if(e.length==t)return e;return null}getSlogans(t){for(var e of this.slogans)if(e.uid==t)return e;return null}getTextScripts(){return null===this._textScripts&&(this._textScripts=i.a.determineScripts(this._text)),this._textScripts}getSloganScripts(){return null===this._sloganScripts&&(this._sloganScripts=i.a.determineScripts(this._slogan)),this._sloganScripts}}return t.familySlogans=null,t})(),n=(()=>{class t extends Array{constructor(e){for(var s of(super(),this._uid=++t._uid,e))this.push(s);Object.defineProperty(this,"uid",{get:function(){return this._uid}})}}return t._uid=0,t})();class r{process(t,e=""){let s=new a;return this.update(s,t,e),s}update(t,e,s=""){let i=null,a=t.slogan!==s;if(t.text!==e){let s=r.separate(e);if(s.length>4||s.join(" ").length>25){i=[],e="";let t,n=0,r=0;for(let i of s){if(t=i.length,!(r<4&&n+t<26))break;r++,n+=t,e+=i+" "}if(e=e.trim(),r>0)i=s.slice(r),s=s.slice(0,r);else{let t=s[0];e=t.slice(0,25),i=[t.slice(25)].concat(s.slice(1)),s=[e]}a=!0}let n=this.getAbbr(s);t.text=e,t.words=s.length,t.texts=this.makeTextVariations(e,s),t.abbrs=this.makerAbbrVariations(n,s)}if(a){let e=r.separate(s);null!==i&&(e=i.concat(e)),s=e.join(" "),t.slogan=s,t.sloganWords=e.length,t.slogans=this.makeTextVariations(s,e,!0)}}shortWords(t){let e=!0;for(let s=0;s<t.length;s++)e=e&&(2==t[s].length||3==t[s].length);return e}makeTextVariations(t,e,s=!1){let i=[];3==e.length?(i.push(new n([this.concat(e[0],e[1]),e[2]])),i.push(new n([e[0],this.concat(e[1],e[2])]))):4==e.length?(i.push(new n([this.concat(e[0],e[1]),e[2],e[3]])),i.push(new n([e[0],this.concat(e[1],e[2]),e[3]])),i.push(new n([e[0],e[1],this.concat(e[2],e[3])])),i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3])])),i.push(new n([this.concat(e[0],e[1],e[2]),e[3]])),i.push(new n([e[0],this.concat(e[1],e[2],e[3])]))):5==e.length?(i.push(new n([this.concat(e[0],e[1]),e[2],e[3],e[4]])),i.push(new n([e[0],this.concat(e[1],e[2]),e[3],e[4]])),i.push(new n([e[0],e[1],this.concat(e[2],e[3]),e[4]])),i.push(new n([e[0],e[1],e[2],this.concat(e[3],e[4])])),i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3]),e[4]])),i.push(new n([this.concat(e[0],e[1]),e[2],this.concat(e[3],e[4])])),i.push(new n([e[0],this.concat(e[1],e[2]),this.concat(e[3],e[4])])),i.push(new n([this.concat(e[0],e[1],e[2]),e[3],e[4]])),i.push(new n([e[0],this.concat(e[1],e[2],e[3]),e[4]])),i.push(new n([e[0],e[1],this.concat(e[2],e[3],e[4])])),i.push(new n([this.concat(e[0],e[1],e[2]),this.concat(e[3],e[4])])),i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3],e[4])])),i.push(new n([e[0],this.concat(e[1],e[2],e[3],e[4])])),i.push(new n([this.concat(e[0],e[1],e[2],e[3]),e[4]]))):6==e.length&&(i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3]),e[4],e[5]])),i.push(new n([this.concat(e[0],e[1]),e[2],this.concat(e[3],e[4]),e[5]])),i.push(new n([this.concat(e[0],e[1]),e[2],e[3],this.concat(e[4],e[5])])),i.push(new n([e[0],this.concat(e[1],e[2]),this.concat(e[3],e[4]),e[5]])),i.push(new n([e[0],this.concat(e[1],e[2]),e[3],this.concat(e[4],e[5])])),i.push(new n([e[0],e[1],this.concat(e[2],e[3]),this.concat(e[4],e[5])])),i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3]),this.concat(e[4],e[5])])),i.push(new n([this.concat(e[0],e[1],e[2]),e[3],e[4],e[5]])),i.push(new n([e[0],this.concat(e[1],e[2],e[3]),e[4],e[5]])),i.push(new n([e[0],e[1],this.concat(e[2],e[3],e[4]),e[5]])),i.push(new n([e[0],e[1],e[2],this.concat(e[3],e[4],e[5])])),i.push(new n([this.concat(e[0],e[1],e[2]),this.concat(e[3],e[4]),e[5]])),i.push(new n([this.concat(e[0],e[1],e[2]),e[3],this.concat(e[4],e[5])])),i.push(new n([e[0],this.concat(e[1],e[2],e[3]),this.concat(e[4],e[5])])),i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3],e[4]),e[5]])),i.push(new n([this.concat(e[0],e[1]),e[2],this.concat(e[3],e[4],e[5])])),i.push(new n([e[0],this.concat(e[1],e[2]),this.concat(e[3],e[4],e[5])])),i.push(new n([this.concat(e[0],e[1],e[2]),this.concat(e[3],e[4],e[5])])),i.push(new n([this.concat(e[0],e[1],e[2],e[3]),e[4],e[5]])),i.push(new n([e[0],this.concat(e[1],e[2],e[3],e[4]),e[5]])),i.push(new n([e[0],e[1],this.concat(e[2],e[3],e[4],e[5])])),i.push(new n([this.concat(e[0],e[1],e[2],e[3]),this.concat(e[4],e[5])])),i.push(new n([this.concat(e[0],e[1]),this.concat(e[2],e[3],e[4],e[5])])),i.push(new n([this.concat(e[0],e[1],e[2],e[3],e[4]),e[5]])),i.push(new n([e[0],this.concat(e[1],e[2],e[3],e[4],e[5])]))),i=this.filterNotBalancedVariations(i),e.length>0&&e.length<=4&&i.push(new n(e));let a=this.shortWords(e);return a||s||(i=this.filterShortWordsVariations(i)),(a||0==i.length)&&i.push(new n([this.concat(...e)])),i}filterNotBalancedVariations(t){let e=[];for(let s of t){let t=s[0].length,i=t;for(let e of s)e.length<t?t=e.length:e.length>i&&(i=e.length);2*t>=i&&e.push(s)}return e}filterShortWordsVariations(t){let e,s=[];for(let i of t){e=!0;for(let t of i)e=e&&t.length>=4;e&&s.push(i)}return s}makerAbbrVariations(t,e){let s=[];return t.length>0&&s.push(t),2==e.length?s.push([t[0]+t[1]]):3==e.length?s.push([t[0]+t[1]+t[2]]):4==e.length?(s.push([t[0]+t[1],t[2]+t[3]]),s.push([t[0]+t[1]+t[2]+t[3]])):5==e.length?s.push([t[0]+t[1]+t[2]+t[3]+t[4]]):6==e.length&&(s.push([t[0]+t[1]+t[2]+t[3]+t[4]+t[5]]),s.push([t[0]+t[1]+t[2],t[3]+t[4]+t[5]]),s.push([t[0]+t[1],t[2]+t[3],t[4]+t[5]])),s}static getAbbrByLength(t,e,s){let i="";s+=e;for(let a=e;a<t.abbrs[0].length;a++)a<=s-1&&(i+=t.abbrs[0][a]);return i}static separate(t){let e=t.replace(/([!"|#$%&()*+,-.\\/:;<=>?@\[\]^_`{}~\r\t])/gm,"$1 ").split(" "),s=[];for(let i of e)""!==i&&s.push(i);return s}getAbbr(t){let e=[];for(let s of t)e.push(s[0]);return e}concat(...t){let e="";for(let s of t)isNaN(Number(s))&&(e+=" "),e+=s;return e.trim()}}},irIP:function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"b",function(){return n}),s.d(e,"c",function(){return r});var i=s("ujYk");const a=[{id:1,colorName:"BUFRed",urlFilterName:"red",colorDescription:"BUFRedDescription",checked:!0,paletteColors:["#e90e28","#f52a3f","#fa4b57","#ff6568","#ff7c79"]},{id:2,colorName:"BUFOrange",urlFilterName:"orange",colorDescription:"BUFOrangeDescription",checked:!0,paletteColors:["#ff692f","#ff8144","#ff9855","#ffb569","#ffc268"]},{id:3,colorName:"BUFBrown",urlFilterName:"brown",colorDescription:"BUFBrownDescription",checked:!0,paletteColors:["#83481a","#9e683a","#b88555","#d6a879","#e8c693"]},{id:4,colorName:"BUFYellow",urlFilterName:"yellow",colorDescription:"BUFYellowDescription",checked:!0,paletteColors:["#d9d64c","#ece35b","#efea65","#f8f27b","#fffc80"]},{id:5,colorName:"BUFGreen",urlFilterName:"green",colorDescription:"BUFGreenDescription",checked:!0,paletteColors:["#00a737","#00c04e","#22ca65","#56e388","#83faa8"]},{id:6,colorName:"BUFLightblue",urlFilterName:"light-blue",colorDescription:"BUFLightblueDescription",checked:!0,paletteColors:["#009cb9","#00b1ce","#00c1d0","#3bd3e0","#61f4f9"]},{id:7,colorName:"BUFDarkblue",urlFilterName:"dark-blue",colorDescription:"BUFDarkblueDescription",checked:!0,paletteColors:["#0032c1","#0046d2","#1c56d3","#546fdc","#788beb"]},{id:8,colorName:"BUFViolet",urlFilterName:"violet",colorDescription:"BUFVioletDescription",checked:!0,paletteColors:["#8d2388","#a53d9e","#ba51b4","#c572c8","#d695df"]},{id:9,colorName:"BUFMonochrome",urlFilterName:"monochrome",colorDescription:"BUFMonochromeDescription",checked:!0,paletteColors:["#030303","#4b4b4b","#7d7d7d","#c8c8c8","#e5e5e5"]}],n=[{id:1,familyId:i.c.ICON_BASED,urlParamsKey:"icon",header:"BUFIconLogo",subheader:"BUFIconLogoDescription",checked:!0},{id:2,familyId:i.c.MINIMAL,urlParamsKey:"brand-name",header:"BUFBrandNameLogo",subheader:"BUFBrandNameLogoDescription",checked:!0},{id:3,familyId:i.c.MONOGRAM,urlParamsKey:"initial",header:"BUFBrandInitialLogo",subheader:"BUFBrandInitialLogoDescription",checked:!0}],r=[{id:1,familyId:i.c.ICON_BASED,urlParamsKey:"icon",header:"BUFIconLogoV2",subheader:"BUFIconLogoDescriptionV2",checked:!0},{id:2,familyId:i.c.MINIMAL,urlParamsKey:"brand-name",header:"BUFBrandNameLogoV2",subheader:"BUFBrandNameLogoDescriptionV2",checked:!0},{id:3,familyId:i.c.MONOGRAM,urlParamsKey:"initial",header:"BUFBrandInitialLogoV2",subheader:"BUFBrandInitialLogoDescriptionV2",checked:!0}]},kU9p:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var i=s("xsZ3"),a=s("fXoL");let n=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.delta=0}onResize(t){(this.isMobile||this.useEverywhere)&&this.setHeight()}ngAfterContentInit(){this.isMobile=!!new i(window.navigator.userAgent).mobile(),(this.isMobile||this.useEverywhere)&&this.setHeight()}getWindowHeight(){return document&&document.documentElement&&document.documentElement.clientHeight||window.innerHeight}setHeight(){this.renderer.setStyle(this.elementRef.nativeElement,"height",this.getWindowHeight()-this.delta+"px")}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(a.l),a.Lb(a.E))},t.\u0275dir=a.Gb({type:t,selectors:[["","lg100vh",""]],hostBindings:function(t,e){1&t&&a.Yb("resize",function(t){return e.onResize(t)},!1,a.yc)},inputs:{delta:["lgFixHeight","delta"],useEverywhere:"useEverywhere"}}),t})()},ujYk:function(t,e,s){"use strict";s.d(e,"c",function(){return o}),s.d(e,"b",function(){return c}),s.d(e,"a",function(){return l});var i=s("g5AA"),a=s("kutf"),n=s("8Z5P"),r=s("UbVK");let o=(()=>{class t{static styles(){return[t.MONOGRAM,t.ICON_BASED,t.MINIMAL]}static toString(e){if(e===t.NO_STYLE)return"no style";var s=[];return 0!=(e&t.MONOGRAM)&&s.push("monogram"),0!=(e&t.ICON_BASED)&&s.push("icon based"),0!=(e&t.MINIMAL)&&s.push("minimal"),0===s.length&&0!==e?"wrong value "+e:s.join(", ")}}return t.NO_STYLE=0,t.MONOGRAM=1,t.ICON_BASED=2,t.MINIMAL=4,t})();var c=function(t){return t[t.Mixed=0]="Mixed",t[t.Local=1]="Local",t[t.TheNoun=2]="TheNoun",t}({});class h{constructor(){this._version=1,this.nounOffset=0,this._industryIds=[],this._colorCategories=[],this._familyStyles=o.NO_STYLE,this._icons=[],this._iconTags=[],this._useIcons=!0,this._inputData=null,this.lastChanges=this,this.setAllCCSelected()}static getInstance(){return h.instance||(h.instance=new h),h.instance}get industryIds(){return this._industryIds}set industryIds(t){this._industryIds=t}pushColorCategory(t){this._colorCategories.push(t)}removeColorCategory(t){this._colorCategories.splice(this._colorCategories.indexOf(t),1)}setAllCCSelected(){this._colorCategories=i.a.categories.concat()}clearAllCC(){this._colorCategories=[]}get colorCategories(){return this._colorCategories}set colorCategories(t){this._colorCategories=t}clearFamilyStyles(){this.familyStyles=o.NO_STYLE}get familyStyles(){return this._familyStyles}set familyStyles(t){this._familyStyles=t}get icons(){return this._icons}set icons(t){this._icons=t}get iconTags(){return this._iconTags}set iconTags(t){this._iconTags=t}get useIcons(){return this._useIcons}set useIcons(t){this._useIcons=t}get inputData(){return this._inputData}set inputData(t){this._inputData=t}get tagsFilterLimit(){return this._tagsFilterLimit}set tagsFilterLimit(t){this._tagsFilterLimit=t}get stylesFilterLimit(){return this._stylesFilterLimit}set stylesFilterLimit(t){this._stylesFilterLimit=t}get iconsFilterLimit(){return this._iconsFilterLimit}set iconsFilterLimit(t){this._iconsFilterLimit=t}get ngWizardObject(){return this._ngWizardObject}set ngWizardObject(t){this._ngWizardObject=t}get moreBrands(){return!(null==this._loadedFamilies||0===this._loadedFamilies.length)}setInitTags(t){for(let e of t)this._iconTags.push(e.tag);this._iconTags.length>0&&(this._tagsFilterLimit=7)}setNounOffset(t){for(let e of t)for(let t of e.primaryLogo.items)if(t.type===a.a.SVG_ICON&&t.emblemType==n.a.NOUN_ICON)return void(this.nounOffset=t.nounOffset)}serialize(){let t={ATIds:this._industryIds,familyStyles:this._familyStyles,icons:[],iconTags:this._iconTags,text:this._inputData.text,slogan:this._inputData.slogan,tagsFilterLimit:this._tagsFilterLimit,stylesFilterLimit:this._stylesFilterLimit,iconsFilterLimit:this._iconsFilterLimit,ngWizardObject:this._ngWizardObject,nounOffset:this.nounOffset,words:this._words,sloganWords:this._sloganWords,textsData:this._textsData,slogansData:this._slogansData,loadedFamilies:this._loadedFamilies,loadedParentMakers:this._loadedParentMakers,loadedEmblemIds:this._loadedEmblemIds,neededFamily:void 0!==this._neededFamily?this._neededFamily:"",version:this._version};if(this._useIcons){let e=[];for(let t of this._icons)e.push(t.serializeEmblem());t.icons=e}return JSON.stringify(t)}deserialize(t){this._industryIds=t.ATIds,this._familyStyles=t.familyStyles,this._iconTags=t.iconTags;const e=new r.a;this._inputData=e.process(t.text,t.slogan),this._tagsFilterLimit=t.tagsFilterLimit,this._stylesFilterLimit=t.stylesFilterLimit,this._iconsFilterLimit=t.iconsFilterLimit,this._words=t.words,this._sloganWords=t.sloganWords,this._textsData=t.textsData,this._slogansData=t.slogansData,this._loadedFamilies=t.loadedFamilies,this._loadedParentMakers=t.loadedParentMakers,this._loadedEmblemIds=t.loadedEmblemIds,this._neededFamily=t.neededFamily||"",this._ngWizardObject=t.ngWizardObject,this._useIcons=!0,this._icons=[],this.nounOffset=t.nounOffset,t.icons.forEach(t=>{this._icons.push(n.a.deserializeNg({emblem:t}))})}setDbMakerFields(t,e,s,i,a,n,r,o){this._words=t,this._sloganWords=e,this._textsData=s,this._slogansData=i,this._loadedFamilies=a,this._loadedParentMakers=n,this._loadedEmblemIds=r,this._neededFamily=o}}let l=(()=>{class t extends h{constructor(){super(),this._version=2}static getInstance(){return t.instance||(t.instance=new t),t.instance}}return t.instance=null,t})()},vuvx:function(t,e,s){"use strict";s.d(e,"a",function(){return i});const i={name:{stepName:"name",isBack:!1,backRoute:"",isSkip:!1,isVisible:!0,nextRoute:"type"},type:{stepName:"type",isBack:!0,backRoute:"",isSkip:!1,isVisible:!0,nextRoute:"tags"},tags:{stepName:"tags",isBack:!0,backRoute:"type",isSkip:!0,isVisible:!0,nextRoute:"icons"},icons:{stepName:"icons",isBack:!0,backRoute:"tags",isSkip:!0,isVisible:!0,nextRoute:"colors"},colors:{stepName:"colors",isBack:!0,backRoute:"icons",isSkip:!0,isVisible:!0,nextRoute:"finish"}}},yzWo:function(t,e,s){"use strict";s.d(e,"a",function(){return S});var i=s("jtHE"),a=s("2Vo4"),n=s("LRne"),r=s("AytR"),o=s("JKMP"),c=s("ujYk"),h=s("g5AA"),l=s("UbVK"),d=s("4biD"),u=s("irIP"),p=s("vkgz"),g=s("UtAn"),b=s("zs7F"),m=s("fXoL"),f=s("tk/3"),w=s("1mqP"),O=s("IYfF");let S=(()=>{class t{constructor(t,e,s){this.http=t,this.wizardNavigationService=e,this.authService=s,this.brandProposalShouldBeSaved=!1,this.searchedIcons={},this.searchedAutocompleter={},this.searchedBusinessesAutocompleter={},this.searchedIconTags={},this.searchedRelatedTags={},this.wizardChangeMap={name:!1,type:!1,tag:!1,icon:!1,color:!1},this.wizardState$=new i.a(1),this.isNext$=new a.a(!0),this.tags$=new i.a(1),this.skipIcons$=new a.a(!1),this.skipName$=new a.a(!1),this.stepLoaded$=new a.a(!1),this.scrollTop$=new a.a(!1),this.updateName$=new a.a({name:"",slogan:""}),this.initWizardState()}initWizardState(){this.wizardObject=new o.c,this.wizardObject.name={name:"",slogan:""},this.wizardObject.business={previousBusiness:"none",currentBusiness:""},this.wizardObject.colors=[...u.a],this.wizardObject.types=[...u.b],this.wizardObject.tags=[],this.wizardObject.icons={iconsList:[],tagsList:[]}}resetWizardState(){this.initWizardState(),this.deselectIconsSet(),this.wasLoadedBefore=!1,this.wizardState$.next(this.wizardObject)}getAutocompleteTags(t){const e=this.getAutocompleterResponse(t);return e?Object(n.a)(e):this.http.get(`${g.a.MAIN_URL}${r.a.wizardTagsURL}?q=${t}`).pipe(Object(p.a)(e=>{this.setAutocompleterResponse(t,e)}))}setAutocompleterResponse(t,e){this.searchedAutocompleter[t]=e}getAutocompleterResponse(t){return this.searchedAutocompleter[t]}getAutocompleteBusinesses(t){const e=this.getAutocompleterBusinessesResponse(t);return e?Object(n.a)(e):this.http.get(`${g.a.MAIN_URL}${r.a.wizardBusinessURL}?q=${t}`).pipe(Object(p.a)(e=>{this.setAutocompleterBusinessesResponse(t,e)}))}setAutocompleterBusinessesResponse(t,e){this.searchedBusinessesAutocompleter[t]=e}getAutocompleterBusinessesResponse(t){return this.searchedBusinessesAutocompleter[t]}isShowScrollTopBtn(){return this.scrollTop$.asObservable()}getIconsV2Tags(t){const e=this.getIconsV2Response(t);return e?Object(n.a)(e):this.http.get(`${g.a.MAIN_URL}${r.a.wizardBusinessIconTagURL}?business=${t}`).pipe(Object(p.a)(e=>{this.setIconsV2Response(t,e);const s=e.tags.map(t=>({name:t}));this.saveTagsStep(s)}))}setIconsV2Response(t,e){this.searchedIconTags[t]=e}getIconsV2Response(t){return this.searchedIconTags[t]}getRelatedTags(t,e=""){const s=`t=${t}&ut=${encodeURIComponent(e)}`,i=this.getRelatedTagsResponse(s);return i?Object(n.a)(i):this.http.get(`${g.a.MAIN_URL}${r.a.wizardRelatedTagsURL}?${s}`).pipe(Object(p.a)(t=>{this.setRelatedTagsResponse(s,t)}))}setRelatedTagsResponse(t,e){this.searchedRelatedTags[t]=e}getRelatedTagsResponse(t){return this.searchedRelatedTags[t]}getDefaultTags(t){return this.http.get(`${g.a.MAIN_URL}${r.a.wizardDefaultTagsURL}?t=${t}`)}getImages(t,e=[],s,i=1e5,a=0){return this.http.post(`${g.a.MAIN_URL}${r.a.wizardImagesURL}`,{atId:0,tag:t,iconSource:c.b.Mixed,lei:e,nounOffset:s,emblemLogId:a,app:"wizard",itype:i})}setIconSet(t,e){this.searchedIcons[t]=e}getIconSet(t){return this.searchedIcons[t]}deselectIconsSet(){Object.entries(this.searchedIcons).forEach(([t,e])=>{e.forEach(t=>t.checked=!1)})}saveNameStep({name:t,slogan:e}){this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{name:{name:t,slogan:e}}),this.wizardState$.next(this.wizardObject)}saveNameFromWidget(t){this.saveNameStep({name:t,slogan:""})}saveTypeStep(t){this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{types:[...t]}),this.wizardState$.next(this.wizardObject),this.doShowIcons(t)}saveTagsStep(t){this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{tags:[...t]}),this.wizardState$.next(this.wizardObject)}saveBusinessStep(t){if("none"===this.wizardObject.business.previousBusiness)this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{business:{currentBusiness:t,previousBusiness:t}});else{const e=this.wizardObject.business.currentBusiness;this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{business:{currentBusiness:t,previousBusiness:e}})}this.wizardState$.next(this.wizardObject)}saveIconStep(t,e){this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{icons:{tagsList:t,iconsList:e}}),this.wizardState$.next(this.wizardObject)}saveColorStep(t){this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{colors:[...t]}),this.wizardState$.next(this.wizardObject)}saveSelectedBrand(t){this.wizardObject=Object.assign(Object.assign({},this.wizardObject),{selectedBrandIndex:t}),this.wizardState$.next(this.wizardObject)}changeBrandColors(){this.brandCreationData.clearAllCC(),this.wizardObject.colors.forEach(t=>{const e=h.a.getById(t.id);this.brandCreationData.pushColorCategory(e)})}setUrlParams(t){t.name&&this.saveNameStep({name:t.name,slogan:""}),t.tags&&this.saveTagsStep(t.tags),t.types&&this.saveTypeStep(t.types),t.colors&&this.saveColorStep(t.colors)}createBrandCreationalData(){this.brandCreationData=c.a.getInstance();const t=new l.a;this.brandCreationData.inputData=t.process(this.wizardObject.name.name,this.wizardObject.name.slogan),this.brandCreationData.clearAllCC(),this.wizardObject.colors.forEach(t=>{const e=h.a.getById(t.id);this.brandCreationData.pushColorCategory(e)}),this.brandCreationData.clearFamilyStyles(),this.wizardObject.types.forEach(t=>{this.brandCreationData.familyStyles+=t.familyId}),this.brandCreationData.stylesFilterLimit=3,this.wizardObject.types.some(t=>t.familyId===c.c.ICON_BASED)?(this.brandCreationData.iconTags=(this.wizardObject.tags||[]).map(t=>t.name),this.brandCreationData.tagsFilterLimit=3,this.brandCreationData.useIcons=!0,this.brandCreationData.icons=(this.wizardObject.icons.iconsList||[]).filter(t=>t&&t.svgIcon).map(t=>t.svgIcon),this.brandCreationData.iconsFilterLimit=3):(this.brandCreationData.iconTags=[],this.brandCreationData.tagsFilterLimit=0,this.brandCreationData.icons=[],this.brandCreationData.iconsFilterLimit=0),this.brandCreationData.industryIds=[d.a.DEFAULT_ACTIVITY_TYPE],this.brandCreationData.ngWizardObject=this.getWizardObject()}getBrandsCreationalData(){return this.createBrandCreationalData(),this.brandCreationData}setBrandsCreationalData(t){this.brandCreationData=t,this.setWizardObject()}getWizardObject(){const t=Object.assign({},this.wizardObject);t.colors=this.wizardObject.colors.map(t=>t.id),t.types=this.wizardObject.types.map(t=>t.id);const{iconsList:e,tagsList:s}=this.wizardObject.icons;return t.icons={tagsList:s,iconsList:e.map(t=>new o.a)},JSON.stringify(t)}setWizardObject(){const t=JSON.parse(this.brandCreationData.ngWizardObject);this.wizardObject=t,this.wizardObject.colors=u.a.filter(e=>t.colors.includes(e.id)),this.wizardObject.types=u.b.filter(e=>t.types.includes(e.id)),this.brandCreationData.icons.forEach((t,e)=>{this.wizardObject.icons.iconsList[e]={checked:!0,svgIcon:t}}),this.wizardState$.next(this.wizardObject),this.doShowIcons(this.wizardObject.types)}getWizardState(){return this.wizardState$.asObservable()}getIsNext(){return this.isNext$.asObservable()}setNextStatus(t){this.isNext$.next(t)}isBrandCreationalDataExist(){return!!this.brandCreationData}markStepChanged(t){this.wizardChangeMap[t]=!0}resetWizardStepsStateMap(){Object.keys(this.wizardChangeMap).forEach(t=>{this.wizardChangeMap[t]=!1})}isJustColorChanged(){return 1===Object.keys(this.wizardChangeMap).filter(t=>this.wizardChangeMap[t]).length&&this.wizardChangeMap.color}isAnyStepChanged(){return Object.keys(this.wizardChangeMap).some(t=>this.wizardChangeMap[t])}setStepLoaded(t){return this.stepLoaded$.next(t)}getStepLoaded(){return this.stepLoaded$.asObservable()}doShowIcons(t){const e=t.find(({id:t})=>1===t);this.setSkipIconsStep(!e)}setSkipIconsStep(t){this.wizardNavigationService.patchStepsConfig("icons",!t),this.skipIcons$.next(t)}getSkipIconsStep(){return this.skipIcons$.asObservable()}setSkipNameStep(t){this.wizardNavigationService.patchStepsConfig("name",!t),this.skipName$.next(t)}getSkipNameStep(){return this.skipName$.asObservable()}setUpdateName(t){this.updateName$.next(t)}getUpdateName(){return this.updateName$.asObservable()}setBrandProposalShouldBeSaved(t){this.brandProposalShouldBeSaved=t}isBrandProposalShouldBeSaved(){return this.brandProposalShouldBeSaved}isBriefV2(){const t=this.authService.getPlanVersion();return b.a.isBriefV2(t)}isNameValid(){const t=this.wizardObject.name;return t&&t.name.length&&t.name.length>=3}isTypeValid(){return this.wizardObject.types.some(t=>t.checked)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(f.a),m.Vb(w.a),m.Vb(O.a))},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);