(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"71ha":function(t,e,a){"use strict";a.d(e,"a",function(){return r});var s=a("XNiG"),n=a("fXoL");let r=(()=>{class t{constructor(){this.showAuthModal$=new s.a}showAuthModal(t){this.showAuthModal$.next(t)}observeShowAuthModal(){return this.showAuthModal$.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ApZD:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var s=a("ujYk"),n=a("4biD"),r=a("Bhu5");class i{constructor(t,e){this.makers=t,this.filter=e}get familyIds(){let t=[];for(let e of this.makers)t.push(e.family_id);return t}print(){return""}static create(t){switch(t.filter){case"Base":return new i(t.makers,t.filter);case"General":return new o(t.makers,t.filter,t.familiesCount);case"Icon":return new l(t.makers,t.filter,t.icons);case"Style":return new u(t.makers,t.filter,t.styles);case"Industry":return new g(t.makers,t.filter,t.industries);case"Tags":return new h(t.makers,t.filter,t.tags)}return null}static set(t){if(null!==t){i.current=[];for(let e of t){if(null===e)return;i.current.push(i.create(e))}}}static print(){if(void 0===i.current||0===i.current.length)return;let t="",e=[],a=[];for(let s of i.current)t+=s.print(),null!==e?(a=e.filter(t=>s.familyIds.indexOf(t)>=0),e=i.union(e,s.familyIds)):e=s.familyIds;return t+=`\u0421omplement (A \u2229 B \u2229 \u0421) count: ${a.length} <a href="/v3/admin/logo-maker-analyzer/?ids=${a.join(",")}" target="_blank">link</a><br>`,t+=`\u0421omplement IDs: ${a.join(", ")}<br>`,t+=`Union (A \u222a B \u222a \u0421) count: ${e.length} <a href="/v3/admin/logo-maker-analyzer/?ids=${e.join(",")}" target="_blank">link</a><br>`,t+="Union IDs: "+e.join(", "),t}static brandDebugInfo(t){if(!t||!t.primaryMap||!t.logoMaps)return"";var e=`${t.primaryMap.familyName}, ${t.primaryMap.familyId}, style ${t.primaryMap.familyStyle}`,a=null,s=[];for(var n of t.logoMaps)null!==n.parentId&&(a=n.parentId,s.push(n.id));var i=`<strong>${a}</strong>, ${s.join(", ")}`,o=t.primaryMap,l=o.icon,u="- maker: "+o.id,g=`- type: ${{[r.a.Vertical]:"vertical",[r.a.Horizontal]:"horizontal",[r.a.Text]:"text"}[o.type]} ${o.mapSlogans.length>0?"slogan":""}`,h="";if(null!==l){var d={id:"- id: "+l.iconId,shape:"- shape: "+r.d.toString(l.shape),thickness:"- thickness: "+r.e.toString(l.thicknessType)};h=`Icon:\n\t${d.id}\n\t${d.shape}\n\t${d.thickness}\n`}return`Family/Maker: ${e}\nLogo (primary):\n\t${u}\n\t${g}\n`+h+"Group: "+i}static union(t,e){let a=e.slice();for(let s of t)a.indexOf(s)<0&&a.push(s);return a}}class o extends i{constructor(t,e,a){super(t,e),this.familiesCount=a}print(){return`All templates: ${this.familiesCount}<br>`}}class l extends i{constructor(t,e,a){super(t,e),this.icons=a}print(){let t=`Filter: ${this.filter}<br>`;t+="Icon types: ";for(let a of this.icons)t+=`${r.d.toString(a.shape)}-${r.e.toString(a.thicknessType)}, `;t+="<br>Templates types: ";let e=[];for(let a of this.makers)t+=`${r.d.toString(a.iproportion)}-${r.e.toString(a.ithickness)}, `,e.push(a.family_id);return t+=`<br>Templates count: ${this.makers.length} <a href="/v3/admin/logo-maker-analyzer/?ids=${e.join(",")}" target="_blank">link</a><br>`,t+=`Templates IDs: ${e.join(", ")}<br><br>`,t}}class u extends i{constructor(t,e,a){super(t,e),this.styles=a}print(){let t=`Filter: ${this.filter}<br>`;t+="Styles: ";for(let a of s.c.styles())0!=(a&this.styles)&&(t+=s.c.toString(a)+", ");let e=[];for(let a of this.makers)e.push(a.family_id);return t+=`<br>Templates count: ${this.makers.length} <a href="/v3/admin/logo-maker-analyzer/?ids=${e.join(",")}" target="_blank">link</a><br>`,t+=`Templates IDs: ${e.join(", ")}<br><br>`,t}}class g extends i{constructor(t,e,a){super(t,e),this.industries=a}print(){let t=`Filter: ${this.filter}<br>`;t+="Industries: ";for(let a of this.industries)t+=n.a.getById(a).name+", ";let e=[];for(let a of this.makers)e.push(a.family_id);return t+=`<br>Templates count: ${this.makers.length} <a href="/v3/admin/logo-maker-analyzer/?ids=${e.join(",")}" target="_blank">link</a><br>`,t+=`Templates IDs: ${e.join(", ")}<br><br>`,t}}class h extends i{constructor(t,e,a){super(t,e),this.tags=a}print(){let t=`Filter: ${this.filter}<br>`;t+="Tags: ";for(let a of this.tags)t+=a+", ";let e=[];for(let a of this.makers)e.push(a.family_id);return t+=`<br>Templates count: ${this.makers.length} <a href="/v3/admin/logo-maker-analyzer/?ids=${e.join(",")}" target="_blank">link</a><br>`,t+=`Templates IDs: ${e.join(", ")}<br><br>`,t}}},hX6w:function(t,e,a){"use strict";a.d(e,"a",function(){return S});var s=a("ISjI"),n=a("2UJW"),r=a("RWet"),i=a("pSZf"),o=a("G9FM"),l=a("uBS0"),u=a("8Z5P"),g=a("Bhu5"),h=a("I/rG"),d=a("TNoi"),p=a("UtAn"),c=a("Jruu"),m=a("R2xI"),f=a("UbVK");let b=(()=>{class t{constructor(){this._neededSloganScripts=null}get neededSloganScripts(){if(null===this._neededSloganScripts){for(var t of(this._neededSloganScripts=[],this._slogansParams))this._neededSloganScripts=this._neededSloganScripts.concat(r.a.fromName(t.fontName).scripts);this._neededSloganScripts=s.uniq(this._neededSloganScripts)}return this._neededSloganScripts}process(t,e){return this.updateParams(t,e),this.canSlogansFontsSupportText()&&!this._useDefaultSlogans?this.processUserSlogan():this.processDefaultSlogan()}updateParams(t,e){this._userInputData=t,this._slogansParams=e,this._neededSloganScripts=null,this._useDefaultSlogans=!1,this._userInputData.slogan.length>0?this._userTextScripts=this._userInputData.getSloganScripts():(this._userTextScripts=this._userInputData.getTextScripts(),this._useDefaultSlogans=!0)}processUserSlogan(){var t=f.a.separate(this._userInputData.slogan),e=t.join(" "),a=0,s=0;for(var n of this._slogansParams)a+=n.minChars,s+=n.maxChars;return(e.length<a||t.length<this._slogansParams.length)&&(e=this.increaseSlogan(e,a,s)),this.processSlogan(e)}processDefaultSlogan(){var e=Object.keys(t._defaultSloganMap),a=c.a.getLanguagesByScripts(this.neededSloganScripts),s=c.a.getLanguagesByScripts(this._userTextScripts),n=this.getPossibleLanguages(e,a,s)[0],r=0;for(var i of this._slogansParams)r+=Math.round((i.minChars+i.maxChars)/2);var o=t._defaultSloganMap[n],l=o[r];return void 0===l&&(l=o[36]),this.processSlogan(l)}processSlogan(t){for(var e=t.split(" "),a=[],s=0,n=0;n<this._slogansParams.length;n++){var r=this._slogansParams[n],i="";for(var o of e.slice(s))if(s+=1,(i=i.length>0?`${i} ${o}`:o).length>=r.minChars&&n!==this._slogansParams.length-1)break;i=this.cutSlogan(i,r),a.push(i)}return a}cutSlogan(t,e){return t.length>e.maxChars?t.slice(0,e.maxChars-1)+"\u2026":t}increaseSlogan(e,a,s){var n,r=Object.keys(t._defaultSloganPiecesMap),i=c.a.getLanguagesByScripts(this.neededSloganScripts),o=c.a.getLanguagesByScripts(this._userTextScripts),l=this.getPossibleLanguages(r,i,o)[0],u=t._defaultSloganPiecesMap[l],g=Math.abs(a-e.length);if(g<=2&&1===this._slogansParams.length)return`${e}${u[g]}`;if(g=a-e.length-" ".length,n=s-e.length-" ".length,1===this._slogansParams.length)return`${e} ${u[g]}`;if(this._slogansParams.length>=2){for(var h=this._slogansParams[0],d=this._slogansParams.slice(1,this._slogansParams.length),p=0,m=0;m<d.length;m++)p+=d[m].minChars;var f=h.minChars-e.length;if(f<=0)return`${e} ${u[p]}`;for(var b,y=h.maxChars-e.length-" ".length,S=g;S<n;S++)for(void 0===(b=u[S])&&(b=u[15]),f=h.minChars-e.length;f<y&&!(b.length<f+p);f++)if(" "===b[f])return`${e} ${b}`}return e}getPossibleLanguages(...t){var e=t.shift();for(var a of t)e=s.intersection(e,a);if(0===e.length)return["en"];if(e.length>1){var n=e.indexOf("en");n>-1&&e.splice(n,1)}return e}canSlogansFontsSupportText(){return 0===s.difference(this._userTextScripts,this.neededSloganScripts).length}}return t._defaultSloganMap={en:{5:"Motto",6:"Slogan",7:"Tagline",8:"Tagline?",9:"Strapline",10:"Your motto",11:"Your slogan",12:"Brand slogan",13:"Top strapline",14:"Good catchline",15:"Your strengths?",16:"Define your firm",17:"Enter your slogan",18:"Add your catchline",19:"The best motto ever",20:"Your corporate motto",21:"Describe your company",22:"Strong company tagline",23:"Your business statement",24:"Smart business catchline",25:"Powerful corporate slogan",26:"Compelling brand catchline",27:"Brilliant corporate tagline",28:"Best tagline for your brand!",29:"Cool motto for a cool company",30:"Create a motto for your brand!",31:"Your brand's advertising slogan",32:"Add a fascinating brand tagline!",33:"Type your business specialization",34:"Probably the best corporate slogan",35:"Amazing strapline for your business",36:"Create a clever slogan for your firm"},ru:{5:"\u0414\u0435\u0432\u0438\u0437",6:"\u041b\u043e\u0437\u0443\u043d\u0433",7:"\u0421\u043b\u043e\u0433\u0430\u043d?",8:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",9:"\u0412\u0430\u0448 \u0434\u0435\u0432\u0438\u0437",10:"\u0412\u0430\u0448 \u0441\u043b\u043e\u0433\u0430\u043d",11:"\u0422\u0432\u043e\u0439 \u0441\u043b\u043e\u0433\u0430\u043d",12:"\u0421\u043b\u043e\u0433\u0430\u043d \u0444\u0438\u0440\u043c\u044b",13:"\u041b\u0443\u0447\u0448\u0438\u0439 \u0441\u043b\u043e\u0433\u0430\u043d",14:"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0434\u0435\u0432\u0438\u0437",15:"\u0412 \u0447\u0435\u043c \u0432\u044b \u043b\u0443\u0447\u0448\u0435?",16:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",17:"\u041a\u0430\u043a\u043e\u0439 \u0432\u0430\u0448 \u0441\u043b\u043e\u0433\u0430\u043d?",18:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0430\u0448 \u0434\u0435\u0432\u0438\u0437",19:"\u0421\u0430\u043c\u044b\u0439 \u043b\u0443\u0447\u0448\u0438\u0439 \u0441\u043b\u043e\u0433\u0430\u043d",20:"\u0414\u0435\u0432\u0438\u0437 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",21:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",22:"\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0439 \u0434\u0435\u0432\u0438\u0437 \u0444\u0438\u0440\u043c\u044b",23:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",24:"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",25:"\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0439 \u0434\u0435\u0432\u0438\u0437 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",26:"\u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",27:"\u0412\u0435\u043b\u0438\u043a\u043e\u043b\u0435\u043f\u043d\u044b\u0439 \u0434\u0435\u0432\u0438\u0437 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",28:"\u041b\u0443\u0447\u0448\u0438\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",29:"\u041a\u0440\u0443\u0442\u043e\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u043a\u0440\u0443\u0442\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",30:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0433\u0430\u043d \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",31:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",32:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0440\u043e\u0441\u043a\u0438\u0439 \u043b\u043e\u0437\u0443\u043d\u0433 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",33:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435, \u0447\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",34:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439, \u043b\u0443\u0447\u0448\u0438\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u0432\u0430\u0448\u0435\u0439 \u0444\u0438\u0440\u043c\u044b",35:"\u0417\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",36:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u043b\u043e\u0433\u0430\u043d \u0432\u0430\u0448\u0435\u0439 \u0444\u0438\u0440\u043c\u044b"}},t._defaultSloganPiecesMap={en:{1:"!",2:" !",3:"OK!",4:"Call",5:"Do it",6:"Get it",7:"Try it!",8:"Pay Less",9:"join now!",10:"- book now",11:"now you can",12:"- contact us",13:"- join today!",14:"- choose your!",15:"check this out!"},ru:{1:"!",2:" !",3:"\u041e\u041a!",4:"- \u041e\u041a",5:"\u0417\u0432\u043e\u043d\u0438",6:"\u0441\u0443\u043f\u0435\u0440!",7:"\u0441\u0435\u0439\u0447\u0430\u0441!",8:"\u043e\u0442\u043b\u0438\u0447\u043d\u043e!",9:"\u043d\u0430\u0441 \u043b\u044e\u0431\u044f\u0442",10:"- \u043f\u043e\u0435\u0445\u0430\u043b\u0438!",11:"- \u0436\u0434\u0435\u043c \u0432\u0430\u0441!",12:"\u043c\u044b \u0436\u0434\u0435\u043c \u0432\u0430\u0441!",13:"- \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435!",14:"- \u043e\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c!",15:"\u0421\u043a\u043e\u0440\u043e \u0443\u0432\u0438\u0434\u0438\u043c\u0441\u044f!"}},t})();var y=a("ApZD");class S extends class{constructor(){this._usage=0,this._usageBrands=0,this.loadedIconIds=null}get usage(){return this._usage}get usageBrands(){return this._usageBrands}make(t,e,a=null){this.makeLogo(t,(function(a,s,n){null!=s&&(this._usage+=1,s.text=t.inputData.text,e(a,s,n))}).bind(this),a)}makeLogo(t,e,a=null){return null}makeBrand(t,e,a=null){return this._makeBrand(t,(function(a,s){null!=s&&(this._usageBrands+=1,s.text=t.inputData.text,e instanceof Function&&e(a,s))}).bind(this),a)}_makeBrand(t,e,a=null){return null}getTextItem(t,e){let a=i.a.initText(t.logoItemType);return a.font=r.a.fromName(t.fontFamily),a.blendMode=a.blendManager.toModel(t.blendModeRule),a.text=l.a.transform(e,t.transform).trim(),a.maths=new o.a,a.maths.kerning=t.kerning,a}resetUsage(){this._usage=0,this._usageBrands=0}}{constructor(){super(...arguments),this._loadedParentMakers=[],this._loadedFamilies=[],this._loadedEmblemIds=[],this._useSlogansData=!0,this._sloganProcessor=null}static get DB_MAKER_SERVICE_URL(){return p.a.MAIN_URL+"/v3/js/maker/"}makeLogo(t,e,a=null){this.loadPrerequisites(t,e,a)}_makeBrand(t,e,a=null){return this.loadPrerequisites(t,e,a)}loadPrerequisites(t,e,a=null){var i=t.inputData;if(!(null===i.text||i.text.length<=1)){var o=this.prepareTextsData(i.texts),l=this._useSlogansData?this.prepareTextsData(i.slogans):[],h={w:i.words,sw:this._useSlogansData?i.sloganWords:0,ts:JSON.stringify(s.shuffle(o)),ss:JSON.stringify(s.shuffle(l)),lfm:JSON.stringify(this._loadedFamilies),lm:JSON.stringify(this._loadedParentMakers),lei:JSON.stringify(this._loadedEmblemIds),at:t.activityType,dm:!1};void 0!==t.inputFamily&&(h.fm=t.inputFamily),void 0!==t.brandCreationData&&(t.brandCreationData.setDbMakerFields(i.words,this._useSlogansData?i.sloganWords:0,s.shuffle(o),s.shuffle(l),this._loadedFamilies,this._loadedParentMakers,this._loadedEmblemIds,t.inputFamily),h.bcd=t.brandCreationData.serialize());var d=this;return new Promise((s,o)=>{n.ajax({type:"POST",url:S.DB_MAKER_SERVICE_URL,dataType:"json",data:h,success:function(n){t.brandCreationData.moreBrands||y.a.set(n.debugInfo),r.a.load(n.fontsIds).then(function(){if(n.resetFamilies&&(d._loadedFamilies.length=0),d._useSlogansData=n.useSlogansData,0===n.makers.length&&null!=a)return void a();var r=[];for(var o of n.makers){var l=g.b.deserialize(o);l.makeLogoArgs=t,null!=o.i&&(l.icon=u.a.deserialize({e:o.i}),-1===d._loadedEmblemIds.indexOf(l.icon.iconId)&&d._loadedEmblemIds.push(l.icon.iconId)),null!==o.ti&&(l.texts=i.getTexts(o.ti),l.slogans=i.getSlogans(o.si),l.abbrs=i.getAbbrs(l.mapAbbrsCount)),-1===d._loadedFamilies.indexOf(o.fi)&&d._loadedFamilies.push(o.fi);var h=null===l.parentId?l.id:l.parentId,p=null;null===(p=m.a.fromParentMapId(h,r))&&((p=new m.a).parentMapId=h,p.inputData=i,null!==o.ti&&(p.primaryLogoType=l.type,p.textUid=o.ti,p.sloganUid=o.si),r.push(p)),p.logoMaps.push(l),null===l.parentId&&d._loadedParentMakers.indexOf(l.parentId)>=0&&d._loadedParentMakers.push(h)}const c=[];for(const t of r)d.initBrandPrimaryMap(t),c.push(d.instantiateBrand(t,e));s(c)})}})})}null!==a&&a()}initBrandPrimaryMap(t){var e=""!==t.inputData.slogan;for(var a of t.logoMaps)if(a.type===t.primaryLogoType&&e===a.mapSlogans.length>0)return void(t.primaryMap=a)}prepareTextsData(t,e=null){let a=[];for(let s of t){if(s.length>4)continue;let t={textUid:null,textsCount:null,charsCount:[],scripts:[]};for(let e of s)t.charsCount.push(e.length),t.scripts.push(c.a.determineScripts(e));t.textUid=s.uid,t.textsCount=s.length,a.push(t)}return a}instantiateBrand(t,e){for(var a of t.logoMaps){if(null===a.texts&&(a.texts=t.inputData.getTexts(t.textUid),null!==a.texts&&a.texts.length!=a.mapTextsCount))for(var s of t.inputData.texts)if(s.length===a.mapTextsCount){a.texts=s;break}if(null===a.slogans&&a.mapSlogans.length>0){if(null!==t.sloganUid&&(a.slogans=t.inputData.getSlogans(t.sloganUid),null!==a.slogans&&a.slogans.length!=a.mapSlogans.length))for(var s of t.inputData.slogans)if(s.length===a.mapSlogans.length){a.slogans=s;break}if(null===a.slogans||a.slogans.length!=a.mapSlogans.length){var n=[];for(var r of a.mapSlogans)n.push({fontName:r.fontFamily,minChars:r.minChars,maxChars:r.maxChars});null===this._sloganProcessor&&(this._sloganProcessor=new b),a.slogans=this._sloganProcessor.process(t.inputData,n)}}null===a.abbrs&&a.mapAbbrsCount>0&&(a.abbrs=t.inputData.getAbbrs(a.mapAbbrsCount));let{maker:i,logo:o,logoVariation:l}=this.instantiateLogo(a);t.addLogo(o),t.primaryMap.id===l.id&&(t.primaryLogo=o),t.logos.length===t.logoMaps.length&&(m.a.groupLogoItems(t),t.sortLogos(),e(i,t))}return t}instantiateLogo(t){let e=new h.a,a=0,s=0,n=0,r=new d.a,i=[],o=[],l=[],u=[],p=0;e.makerId=t.id,e.makerType=t.type,e.makerSlogans=t.mapSlogans.length,e.activityTypeId=t.makeLogoArgs.activityType,e.maker=t,t.mapTextsCount<t.texts.length&&1===t.mapTextsCount&&(t.texts=[t.texts.join(" ")]);for(let h of t)if(h.type==g.c.TRANSLATE)h.build(null,i,o,l,u,r);else if(h.type==g.c.ICON)e.items.push(h.build(t.icon,i,o,l,u,r));else if(h.type==g.c.TEXT||h.type==g.c.SLOGAN||h.type==g.c.ABBR){let d;h.type==g.c.SLOGAN?d=t.slogans[s++]:h.type==g.c.TEXT?d=t.texts[a++]:h.type==g.c.ABBR&&(h.length>0?(d=f.a.getAbbrByLength(t.makeLogoArgs.inputData,p,h.length),p+=h.length):d=t.abbrs[n++]),void 0===d&&console.log("undefined text for maker "+t.id),e.items.push(h.build(d,i,o,l,u,r))}else h.type==g.c.LINE&&(h.positionMatrix=r.clone());for(let h of t)h.type==g.c.LINE&&e.items.push(h.build(null,i,o,l,u,r));return e.center(),{maker:this,logo:e,logoVariation:t}}resetUsage(){super.resetUsage(),this._loadedFamilies.length=0,this._loadedParentMakers.length=0,this._loadedEmblemIds.length=0,this._useSlogansData=!0}changeSvgIcon(t,e,a){let s=null,n=new d.a,r=e.clone();for(let o of t.maker)if(o.type===g.c.ICON){s=o;break}s.calculateIconMaths(r,n);let i=e.maths.matrix.subtract(r.maths.matrix);s.calculateIconMaths(a,n),a.maths.matrix.concat(i),e.iconId=a.iconId,e.svg=a.svg,e.bounds=a.bounds,e.maths=a.maths,e.emblemType=a.emblemType,e.text=a.text}}}}]);